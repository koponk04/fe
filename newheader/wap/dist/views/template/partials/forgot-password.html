<div id="forgot-step1" class="forgot-password" style="display: none;">
    <div class="o-dialog">
        <div class="o-toolbar row">
            <h2 class="text-center">Reset Password</h2>
            <a href="#" class="btn btn-icon" onclick="closeBtn(this);">&#215;</a>
        </div>
        <div class="c-form-small--wrapper font-medium">
            <div class="text-center">
                <p>Please enter your email address or phone number to search for your account.</p>
                <div class="c-form-small--wrapper--inner">
                    <div class="in-txt radius-3">
                        <input type="text" name="" placeholder="Enter you email or phone number">
                    </div>
                    <div class="mt10">
                        <div class="form-group">
                            <div class="capctha">
                                <div class="g-recaptcha" data-sitekey="6Le-MQoUAAAAAEC7MuPCKjc953HU5CD0N44Wu1HK">
                                    <div style="width: 304px; height: 78px; margin: 0 auto;">
                                        <div>
                                            <iframe src="https://www.google.com/recaptcha/api2/anchor?k=6Le-MQoUAAAAAEC7MuPCKjc953HU5CD0N44Wu1HK&amp;co=aHR0cHM6Ly9tLmthc2t1cy5jby5pZDo0NDM.&amp;hl=in&amp;v=v1514934548259&amp;size=normal&amp;cb=qjpga49zi0zs" width="304" height="78" role="presentation" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe>
                                        </div>
                                        <textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid #c1c1c1; margin: 10px 25px; padding: 0px; resize: none;  display: none; "></textarea>
                                    </div>
                                </div>
                                <script type="text/javascript" src="https://www.google.com/recaptcha/api.js?hl=id" async="" defer=""></script>
                            </div>
                        </div>
                    </div>
                    <div class="r">
                        <div class="text-center mt20 mb20">
                            <a href="#" class="btn blue btn-full radius-3 top-padding-10 bottom-padding-10 mall0" onclick="goToStep2();">Next</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="forgot-step2" class="forgot-password" style="display: none;">
    <div class="o-dialog">
        <div class="o-toolbar row">
            <h2 class="text-center">Reset Password</h2>
            <a href="#" class="btn btn-icon" onclick="closeBtn(this);">&#215;</a>
        </div>
        <div class="c-form-small--wrapper font-medium">
            <div class="text-center">
                <div class="mt5 mb20">
                    <div class="c-forgot-password--img">
                        <div class="c-forgot-password--img--wrapper">
                            <img src="https://unsplash.it/200/200" alt="" />
                        </div>
                    </div>
                    <p><a href="">userdisini</a></p>
                    <p><small>kaskuser</small></p>
                </div>
                <div class="c-forgot-password--form">
                    <p>Select which contact details should we use to reset your password:</p>
                    <div class="c-form-small--wrapper--inner c-forgot-password--form">
                        <form>
                            <div class="c-forgot-password--input-toolbar">
                                <div class="c-forgot-password--form--wrapper mb10">
                                    <input type="radio" id="phone" name="radios" value="">
                                    <label for="phone"><span>08563738484943</span></label>
                                    <div class="c-forgot-password--form--input phone"></div>
                                </div>
                                <div class="c-forgot-password--form--wrapper">
                                    <input type="radio" id="email" name="radios" value="" checked>
                                    <label for="email"><span>kpoper@gmail.com</span></label>
                                    <div class="c-forgot-password--form--input email"></div>
                                </div>
                            </div>
                        </form>
                        <div class="r">
                            <div class="text-center mt20 mb20">
                                <a href="#" class="btn blue btn-full radius-3 top-padding-10 bottom-padding-10 mall0" onclick="goToStep3();">Next</a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="forgot-step3" class="forgot-password" style="display: none;">
    <div class="o-dialog">
        <div class="o-toolbar row">
            <h2 class="text-center">Reset Password</h2>
            <a href="#" class="btn btn-icon" onclick="closeBtn(this);">&#215;</a>
        </div>
        <div class="c-form-small--wrapper font-medium">
            <div class="text-center">
                <div class="c-forgot-password--form--recovery">
                    <p>The recovery code was sent to your mobile number. Please enter the code:</p>
                    <div class="c-form-small--wrapper--inner">
                        <div class="mb10">
                            <form class="input-wrong c-forgot-password--recovery-code">
                                <input class="recovery-code radius-3" type="text" maxlength="1" name="" value="" />
                                <input class="recovery-code radius-3" type="text" maxlength="1" name="" value="" />
                                <input class="recovery-code radius-3" type="text" maxlength="1" name="" value="" />
                                <input class="recovery-code radius-3" type="text" maxlength="1" name="" value="" />
                                <input class="recovery-code radius-3" type="text" maxlength="1" name="" value="" />
                                <input class="recovery-code radius-3" type="text" maxlength="1" name="" value="" />
                                <input class="recovery-code radius-3" type="text" maxlength="1" name="" value="" />
                                <input class="recovery-code radius-3" type="text" maxlength="1" name="" value="" />
                                <p class="mt10"><small>You enter the wrong code!</small></p>
                                <div class="r">
                                    <div class="text-center mb20">
                                        <!-- BUTTON DISABLED WHEN NOT COMPLETING RECOVERY CODE -->
                                        <button type="submit" class="btn lighten-grey btn-full radius-3 top-padding-10 bottom-padding-10 mall0 btn-next-step" onclick="goToStep4();">Next</button>
                                        
                                        <p class="mt10"><small>Didn't get the recovery code?</small></p>
                                        <p><small><a href="">Resend</a></small></p>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="forgot-step4" class="forgot-password" style="display: none;">
    <div class="o-dialog">
        <div class="o-toolbar row">
            <h2 class="text-center">Reset Password</h2>
            <a href="#" class="btn btn-icon" onclick="closeBtn(this);">&#215;</a>
        </div>
        <div class="c-form-small--wrapper font-medium">
            <div class="c-form-small--wrapper--inner c-forgot-password--input-pass">
                <form action="#">
                    <div class="r">
                        <label>Create New Password</label>
                        <div class="c-forgot-password--input-pass-wrapper in-txt radius-3 mb10">
                            <input class="pass-input-control" type="password" placeholder="Input Password" value="" />
                            <a class="pass-trigger"><span  class="pass-icon-eye icon-eye-closed"></span></a>
                        </div>
                    </div>
                </form>
                <div class="r">
                    <div class="text-center mt20 mb20">
                        <a href="#" class="btn blue btn-full radius-3 top-padding-10 bottom-padding-10 mall0" onclick="goToStep5();">Save Password</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="final-step" class="forgot-password" style="display: none;">
    <div class="o-dialog">
        <div class="o-toolbar row">
            <h2 class="text-center">Reset Password</h2>
            <a href="#" class="btn btn-icon" onclick="closeBtn(this);">&#215;</a>
        </div>
        <div class="c-form-small--wrapper font-medium">
            <div class="text-center">
                <img class="mb10" src="https://s.kaskus.id/e3.1/images/logo-kaskus-full.svg" alt="kaskus-logo" width="200" height="60">
                <p>Your password has been reset sucessfully!</p>
                <p>To continue, please select a sign-out method.</p>
            </div>
            <div class="c-form-small--wrapper--inner c-forgot-password--form--reset">
                <form>
                    <div class="r mb20">
                        <label>
                            <input type="radio" name="reset" checked="checked">
                            <span>Log out of other devices</span>
                        </label>
                        <div class="additional-notice">We'll help you check for recent changes</div>
                    </div>
                    <div class="r">
                        <label>
                            <input type="radio" name="reset" checked="checked">
                            <span>Stay logged in</span>
                        </label>
                    </div>
                </form>
                <div class="r">
                    <div class="text-center mt20 mb20">
                        <a href="#" class="btn blue btn-full radius-3 top-padding-10 bottom-padding-10 mall0">Continue</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    // STEPS
    function closeBtn(e) {
        $(e).parents().find(".forgot-password").hide();
        $(document.body).toggleClass("o-hidden");
    }

    function goToStep1() {
        $("#forgot-step1").show();
        $(document.body).toggleClass("o-hidden");
    }

    function goToStep2() {
        $("#forgot-step2").show();
    }

    function goToStep3() {
        $("#forgot-step3").show();
    }

    function goToStep4() {
        $("#forgot-step4").show();
    }

    function goToStep5() {
        $("#final-step").show();
    }

    //SELECTING NEXT INPUT
    var $sortPassword = $('.c-forgot-password--recovery-code input');

    $sortPassword.keyup(function(event) {

      var sortValue = $(this).val();            
      var sortPosition = $sortPassword.index(this);   

        if (!(event.keyCode == 16 || event.keyCode == 9)) { 
            if (sortValue.length == 1 && sortPosition !== 7) {
                sortPosition += 1;
                $sortPassword.eq(sortPosition).focus().select();   
            }
            if (sortPosition !== 7) {
                $(".btn-next-step").addClass('lighten-grey').removeClass('blue');
            }
            else {
                $(".btn-next-step").addClass('blue').removeClass('lighten-grey');
            }
        }
        // input backward when delete value
        if (event.keyCode == 8 || event.keyCode == 46) {
            if (sortPosition != 0) {
                $sortPassword.eq(sortPosition - 1).val('').focus();
            }
            else {
                $(".btn-next-step").addClass('lighten-grey').removeClass('blue');
            }
        }
    });

    //SHOW HIDE PASSWORD
    $('.pass-trigger').click(function() {
        if ($(this).find('.pass-icon-eye').hasClass('icon-eye-closed')){
            $(this).find('.pass-icon-eye').addClass('icon-eye-opened').removeClass('icon-eye-closed');
            $('.pass-input-control').prop('type', 'text');
        }else{
            $(this).find('.pass-icon-eye').addClass('icon-eye-closed').removeClass('icon-eye-opened');
            $('.pass-input-control').prop('type', 'password');
        }
    });

</script>