function build_ga_track_event(e,t,a){return"_gaq.push(['_trackEvent', "+e+", "+t+", "+a+"]);"+("dataLayer.push({'event': 'trackEvent','eventDetails.category': "+e+", 'eventDetails.action': "+t+", 'eventDetails.label': "+a+"});")}function build_ga_custom_track_share_thread(e,t,a,s,o){var i=s.attr("data-threadid"),r=decodeURIComponentSafe(s.attr("data-title")).replace("&#92;",""),n=s.attr("data-author"),l=s.attr("data-forum-id"),c=s.attr("data-forum-name"),d=s.attr("data-forum-parent-id"),u=s.attr("data-forum-parent-name"),p=s.attr("data-channel-id"),m=s.attr("data-channel-name"),h="_gaq.push(['_trackEvent', '"+e+"', '"+t+"', '"+a+"']);",f=user_id,g=s.attr("data-profile-user-id");void 0!==g&&!1!==g&&(f=g);var _={event:"trackEvent","eventDetails.category":e,"eventDetails.action":t,"eventDetails.label":a,threadShared:"1",userID:f,threadId:i,threadTitle:r,author:n,forumId:l,forumName:c,forumParentId:d,forumParentName:u,channelId:p,channelName:m};return o&&(_=Object.assign(_,o)),h+("dataLayer.push("+JSON.stringify(_).replace(/"/g,"'")+");")}function decodeURIComponentSafe(e,t){var a,s,o,i=new String,r=0;for(void 0===t&&(t=0),s=(a=e.split(/(%(?:d0|d1)%.{2})/)).length;r<s;r++){try{o=decodeURIComponent(a[r])}catch(e){o=t?a[r].replace(/%(?!\d+)/g,"%25"):a[r]}i+=o}return i}function buildAdditionalCustomMetricAttr(e){var t=e.attr("data-author"),a=decodeURIComponentSafe(e.attr("data-title")).replace("&#92;",""),s=e.attr("data-forum-id"),o=e.attr("data-forum-name"),i=e.attr("data-forum-parent-id"),r=e.attr("data-forum-parent-name"),n=e.attr("data-channel-id"),l=e.attr("data-channel-name"),c=user_id,d=e.attr("data-profile-user-id");return void 0!==d&&!1!==d&&(c=d),'data-userid="'+c+'" data-author="'+t+'" data-title="'+a+'" data-forumid="'+s+'" data-forum-name="'+o+'" data-forum-parentid="'+i+'" data-forum-parent-name="'+r+'" data-channelid="'+n+'" data-channel-name="'+l+'" '}function createThreadlistShareMenuData(e){var t=e.parent().find(".jsPopoverMenu:first");if("false"==t.attr("data-created")){var a=t.attr("data-subscribe-tracking"),s=t.attr("data-subscribe-label"),o=t.attr("data-is-subscribe"),i=t.attr("data-threadid"),r=t.attr("data-forum-id"),n=decodeURIComponentSafe(t.attr("data-title")).replace("&#92;",""),l=t.attr("data-slugtitle"),c=t.attr("data-show-button-first-post"),d=t.attr("data-show-button-goto-last-post"),u=t.attr("data-last-post-id"),p=(t.attr("data-fb-href"),t.attr("data-fb-url")),m=t.attr("data-twitter-href"),h="";h="true"==o?'<a href="javascript:void(0);"class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px) jsSubscribeThreadIcon"data-type="thread" data-id="'+i+'" '+buildAdditionalCustomMetricAttr(t)+'data-label="'+s+'" data-state="unsubscribe" data-style="menu" data-category="'+a+'"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-bookmark fa-fw"></i><span class="Fz(12px)">'+window.KASKUS_lang.unsubscribe_button+"</span> </a>":'<a href="javascript:void(0);" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px) jsSubscribeThreadIcon"data-type="thread" data-id="'+i+'" '+buildAdditionalCustomMetricAttr(t)+'data-label="'+s+'" data-state="subscribe" data-style="menu" data-category="'+a+'"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-bookmark fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.subscribe_button+"</span> </a>";var f="";"true"==c&&(f='<li class="D(b)"><a href="/thread/'+i+"/"+l+'?goto=newpost" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"><i class="Mend(12px) Va(m) fas Fz(14px) fa-chevron-square-down fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.go_first_new_post_button+"</span> </a> </li>");var g="";"true"==d&&(g='<li class="D(b)"><a href="/lastpost/'+i+"#post"+u+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)" rel="nofollow"> <i class="Mend(12px) Va(m) fas Fz(14px) fa-chevron-square-right fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.go_last_post_button+"</span> </a></li>");var _="";null==p&&null==m||(_='<div class="H(1px) Bgc(#d4d4d4) Mx(10px)"></div> ',null!=p&&(_+='<li class="D(b) Cur(p)"> <a href="javascript:void(0);" data-url="'+p+'" data-threadid="'+i+'" onclick="threadlist_facebook_share(\''+p+"', '"+i+"');"+build_ga_custom_track_share_thread("'"+r+" "+n+"'","'share thread'","'facebook'",t)+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"> <i class="Mend(12px) Va(m) fab Fz(14px) fa-facebook-square fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.share_facebook_button+"</span> </a></li>"),null!=m&&(_+='</li> <li class="D(b) Cur(p)"> <a target="_blank" href="'+m+'" data-threadid="'+i+'" onclick="threadlist_share_count(\''+i+"', 'twitter');"+build_ga_custom_track_share_thread("'"+r+" "+n+"'","'share thread'","'twitter'",t)+'" class="D(b) C(c-normal) Bgc(c-lightgrey):h My(3px) Py(5px) Px(10px)"> <i class="Mend(12px) Va(m) fab Fz(14px) fa-twitter-square fa-fw"></i> <span class="Fz(12px)">'+window.KASKUS_lang.share_twitter_button+"</span> </a> </li> "),_+='<div class="H(1px) Bgc(#d4d4d4) Mx(10px)"></div>');var v='<ul><li class="D(b) Cur(p)">'+h+"</li>"+_+f+g+"</ul>";t.attr("data-created","true"),t.append($.parseHTML(v)),$(".jsSubscribeThreadIcon").click(function(){subscribeUnsubscribe($(this))})}}function bindThreadListShareMenuData(){$(".jsThreadListShareMenuData").click(function(){createThreadlistShareMenuData($(this))})}function forumAllEventTracking(){$(".jsChannelForumButton").length&&$(".jsChannelForumButton").click(function(){var e=$(this).attr("data-state"),t=$(this).attr("data-id");dataLayer.push({event:"trackEvent","eventDetails.category":"forumall","eventDetails.action":e+" channel","eventDetails.label":"channel-"+t}),"open"===e?$(this).attr("data-state","close"):$(this).attr("data-state","open")})}function bindForumAllIconCancel(){$("#search-icon").length&&$("#search-icon").click(function(){$(this).hasClass("fa-times")&&($("#search-category").val(""),hide_forum_all_search_result(),change_forum_all_icon_search())})}function bindForumAllSearchResult(){$("#search-result").length&&$("#search-result").children().length&&(jQuery.expr[":"].icontains=function(e,t,a){return jQuery(e).text().toUpperCase().indexOf(a[3].toUpperCase())>=0},$("#search-category").keyup(function(e){if(phrase=$(this).val(),""===phrase||void 0===phrase)return hide_forum_all_search_result(),change_forum_all_icon_search(),!1;show_forum_all_search_result(),change_forum_all_icon_cancel(),$("#search-result").children().hide(),search_container=$(".listForumItem span span:icontains("+phrase+")"),search_container.closest(".listForumItem").show()}))}function bindForumAllSubscribeEvent(){$("[id^=bookmark-forum]").length&&$("[id^=bookmark-forum]").click(function(){return subscribeUnsubscribe($(this)),!1}),$("[id^=bookmark-search-forum]").length&&$("[id^=bookmark-search-forum]").click(function(){return subscribeUnsubscribe($(this)),!1})}function show_forum_all_search_result(){$(".jsChannelForumItem").hide(),$("#search-result").show()}function hide_forum_all_search_result(){$(".jsChannelForumItem").show(),$("#search-result").hide()}function change_forum_all_icon_search(){$("#search-icon").hasClass("fa-times")&&($("#search-icon").removeClass("fa-times"),$("#search-icon").addClass("fa-search"))}function change_forum_all_icon_cancel(){$("#search-icon").hasClass("fa-search")&&($("#search-icon").removeClass("fa-search"),$("#search-icon").addClass("fa-times"))}function bindTrhHome(){$("#recommended-thread-home").length>0&&$.get(url_recommendation,function(e){if("object"!=typeof e&&(e=$.parseJSON(e)),!1!==e.result){var t="",a="";$.each(e.result,function(e,s){var o=1,i=Object.keys(s).length;t+='<div id="'+e+'" class="Px(15px) Py(15px) Bgc(c-white) Bd(borderSolidLightGrey) Mb(15px)"'+a+'><div class="D(f) Ai(c) Mb(15px)">',t+='<img src="'+assetsFolderNew+'/images/ic-rekomendasi-thread.svg" width="28" alt="recommended-thread">',t+='<div><span class="Ff(VagRounded) Lts(0.2px) Fz(20px) Mstart(10px) D(ib) Mt(4px) Mend(5px)">',t+=window.KASKUS_LANG.thread_recommendation_title,t+="</span></div></div>",$.each(s,function(e,s){var r=++o<=i?"Bdb(borderSolidLightGrey) ":"";t+='<a class="C(c-dark-grey)" href="'+s.href+'" onclick="'+s.ga_track+'">',t+='<div class="D(f) Mb(10px) '+r+'Pb(15px)">',t+='<div class="Fx(flexOne)">',t+='<div class="C(c-dark-grey) Fz(14px) Lh(19px) Lts(0.1px) Fw(500)">'+s.title+"</div>",t+='<a href="'+s.forum_href+'" class="C(c-secondary)" onclick="'+s.ga_track+'">',t+='<div class="Fz(12px) C(c-secondary) Mt(5px)">'+s.forum_name+"</div></a></div>",Boolean(s["data-img-src"])&&(t+='<a class="W(60px) H(60px) Fx(flexZero) Mstart(10px) Bdrs(5px) Bdrsbstart(0) Ov(h)" href="'+s.href+'" onclick="'+s.ga_track+'">',t+='<img alt="'+s.slug_title+'" data-src="'+s["data-img-src"]+'" class="mls-img Bdrs(5px) Bdrsbstart(0) W(100%) oFitCover H(100%)" >',t+="</a>"),t+="</div></a>",a=' style="display: none;"'}),t+="</div>"}),$("#recommended-thread-home").replaceWith(t),$(".mls-img").kslzy(300),Object.keys(e.result).length>1&&dataLayer.push({event:"optimize.activate"})}})}function bindTrhThreadList(){$("#recommended-thread-threadlist").length>0&&$.post(url_recommendation,{hot_threads:hot_thread_data},function(e){if("object"!=typeof e&&(e=$.parseJSON(e)),!1!==e.result){var t="";t+='<div class="Px(15px) Py(15px) Bgc(c-white) Bd(borderSolidLightGrey) Mb(15px)">',t+='<div class="D(f) Ai(c) Mb(15px)">',t+='<img src="'+assetsFolderNew+'/images/ic-rekomendasi-thread.svg" width="28" alt="recommended-thread">',t+="<div>",t+='<span class="Ff(VagRounded) Lts(0.2px) Fz(20px) Mstart(10px) D(ib) Mt(4px) Mend(5px)">'+window.KASKUS_LANG.thread_recommendation_title+"</span>",t+="</div>",t+="</div>";var a=0,s="",o=0;$.each(e.result,function(e,t){0==Object.keys(t).length?a++:""==s&&(s=e)}),$.each(e.result,function(e,a){var s=Object.keys(a).length;$.each(a,function(e,a){var i=++o<s?"Bdb(borderSolidLightGrey) ":"",r=a.ga_track?' onclick="'+a.ga_track+'"':"";t+='<a class="C(c-secondary) Td(n):h '+a.model_name+'" href="'+a.href+'"'+r+' style="display: none;">',t+='<div class="D(f) Mb(10px) '+i+'Pb(15px)">',t+='<div class="Fx(flexOne)">',t+='<div class="C(c-dark-grey) Fz(14px) Lh(19px) Lts(0.1px) Fw(500)">'+a.title+"</div>",t+='<div class="Fz(12px) C(c-secondary) Mt(5px)">'+a.thread_label+"</div>",t+="</div>",Boolean(a.image_source)&&(t+='<div class="Fx(flexZero) Mstart(10px) Bdrs(5px) Bdrsbstart(0) Ov(h) W(60px) H(60px)">',t+='<img alt="'+a.slug_title+'" data-src="'+a["data-img-src"]+'" class="mls-img Bdrs(5px) Bdrsbstart(0) W(100%) oFitCover H(100%)" >',t+="</div>"),t+="</div>",t+="</a>"})}),t+="</div>",o>0&&$("#recommended-thread-threadlist").replaceWith(t),$(".mls-img").kslzy(300),""!=s&&$("."+s).show(),Object.keys(e.result).length>1&&0==a&&dataLayer.push({event:"optimize.activate"})}})}function bindSubscribeButton(){"function"==typeof subscribeUnsubscribe?($(".jsSubscribeThreadIcon").unbind(),$(".jsSubscribeThreadIcon").click(function(){return subscribeUnsubscribe($(this)),!1})):window.setTimeout(bindSubscribeButton,1e3)}function bindOpenWhoPosted(){"function"==typeof openWhoPosted?($(".openwhoposted").unbind(),$(".openwhoposted").on("click",function(e){e.preventDefault(),openWhoPosted($(this))})):window.setTimeout(bindOpenWhoPosted,1e3)}function openWhoPosted(e){var t=e.attr("href");$("#jsModalWhoPosted").empty();var a='<div class="modal-dialog jsModalDialog Ov(h)"><div class="modal-content jsModalContent"><div class="modal-section W(400px)"><div class="modal-header H(140px) Bgc(c-aqua-light) Bdrs(5px) Pos(r) Maw(360px) Mx(a) Bdrsbend(0) Bdrsbstart(0)"><div class="W(100%) H(130px) Bg(bgImageProps) Bgi(imagePopupWhoposted) Pos(a) B(0)"></div><button class="Pos(a) End(10px) T(10px) jsModalCloseButton Z(1)"><i class="fas fa-times C(#6e6e6e) Fz(20px)"></i></button></div><div class="modal-body Bgc(c-white) Bdrs(5px) Py(15px) Px(40px)"><div class="Fz(18px) Fw(700) Mb(20px)">Who Posted</div><div class="D(f) Jc(sb) Ai(c) Fz(13px) C(c-normal) Py(8px)"><div>Username</div><div class="W(80px)" id="whoposted_total_post">Post</div></div><div class="Ovy(a) Mah(350px) Mb(15px) Mt(10px)"><div class="D(f) Fld(c)" id="whoposted_list_user"><ul>';return a+='<img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',a+="</ul></div></div></div></div></div></div>",$("#jsModalWhoPosted").html(a),bindJsModalCloseButton(),$.ajax({url:t,success:function(e){"object"!=typeof e&&(e=$.parseJSON(e)),$("#whoposted_list_user").empty(),whoposted_data=e.result.whoposted,userDatas=e.result.user_info,post_userid=e.result.post_userid,a="<ul>",Object.keys(whoposted_data).length>0?$.each(whoposted_data,function(t,s){userData=userDatas[s.userid],"undefined"!=typeof userData&&(a+='<li class="D(f) Ai(c) Mb(15px)"><a href="/profile/'+s.userid+'" target="_blank"><div class="Pos(r)"><img src="'+userData.profile_picture+'" class="W(36px) H(36px) Bdrs(50%)">'+(userData.is_online?'<i class="W(12px) H(12px) Bdrs(50%) Bgc(c-green) Pos(a) End(0) B(0) Bd(borderSolidGreen)"></i>':"")+'</div></a><div class="Fx(flexOne) Mx(10px) Ta(start)"><a href="/profile/'+s.userid+'" class="C(c-normal) D(f) Ai(c) Jc(fs) Mb(5px)" target="_blank">'+(s.userid==post_userid?'<span class="Bgc(#f8c31c) Bdrs(5px) P(3px) Fw(b) Fz(11px) Mend(5px)">TS</span>':"")+'<div class="Fz(13px) Fw(500)">'+userData.username+'</div></a><div class="C(#a3a3a3) Fz(11px)">'+userData.user_title+'</div></div><div class="W(80px)"><a href="/viewallposts/'+s.userid+"?thread_id="+e.result.thread_id+"&count="+s.total_post+'" class="Td(u):h C(c-normal) Fz(12px) Fw(500) Ta(c)">'+s.total_post+"</a></div></li>")}):a='<ul><li class="D(f) Ai(c) Mb(15px)">Empty Post</li></ul>',a+="</ul>",$("#whoposted_total_post").html("Post("+(parseInt(whoposted_data.total_post)||0)+")"),$("#whoposted_list_user").html(a)}}),!1}function bindJsModalCloseButton(){$(".jsModalCloseButton").click(function(){$(".jsModal").removeClass("is-open"),$("body").removeClass("Ov(h)")})}!function(e){e.fn.kslzy=function(t,a){var s=e(window),o=this;t=t||0;function i(){var a=o.filter(function(){return 0!=e(this).is(":visible")&&function(a,o){o=o||"visible";var i=e(a).closest(".spoiler");1==i.length&&(a=i);var r=s.height(),n=s.scrollTop(),l=e(a).offset().top,c=e(a).height();return"visible"==o?l<r+n+t&&l>n-c-t:"above"==o?l<r+n:void 0}(e(this))}).trigger("display");o=o.not(a)}return this.one("display",function(){var t=new Image;if("DIV"==e(this).prop("tagName")||"A"==e(this).prop("tagName")){var a=this;t.onload=function(){if(e(a).removeClass("mls-img").addClass("rjn-img").removeAttr("data-src").hide().fadeIn(),"1"==e(a).attr("data-type"))e(a).css("background-image","url("+this.src+")");else{var t=e('<img class="lte-img">');t.attr("src",this.src),t.appendTo(e(a))}}}else{var s=this;t.onload=function(){e(s).removeClass("mls-img").addClass("rjn-img").removeAttr("data-src"),e(s).attr("src",this.src)}}void 0!==e(this).attr("data-src")&&(t.src=e(this).attr("data-src"))}),s.on("scroll.kslzy resize.kslzy lookup.kslzy click.kslzy",i),i(),this}}(window.jQuery||window.Zepto),$(".openwhoposted").on("click",function(e){e.preventDefault(),openWhoPosted($(this))});var htLoadNumber=0,load_ht_without_cursor=1,ht_is_loading=!1;function show_ht_channel(e){show_request_fcm_popup(),ht_is_loading=!0;var t=$(window).scrollTop(),a='<a id="ht-next" class="Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)" data-tracking="'+data_tracking+'" data-channel="'+e+'">Lanjut Gan!</a>',s=$("#ht_counter").val(),o=$("#ht_cursor").val(),i=$("#ht_hash_key").val();$("#ht-loading-area").html(next_ht_image),$.ajax({url:"/misc/get_hotthread_channel/"+s+"/"+e,dataType:"json",type:"post",data:{cursor:o,disable_cursor:load_ht_without_cursor,exc_thread_ids:i},success:function(e){$(e.html).insertBefore($("#ht-loading-area")),$("#ht-loading-area").html(a),$("#ht_counter").val(e.counter);var s=$("#ht_cursor").val();0==load_ht_without_cursor?e.cursor&&s!=e.cursor||removeHtAutoload():bindHtNext(),load_ht_without_cursor=e.next,$("#ht_cursor").val(e.cursor),ht_is_loading=!1,$(".mls-img").kslzy(300),window.scrollTo(0,t),$(document.body).trigger("sticky_kit:recalc"),window.scrollTo(0,t+1),bindSubscribeButton(),bindOpenWhoPosted(),bindThreadListShareMenuData(),htLoadNumber++,dataLayer.push({event:"trackEvent","eventDetails.category":data_tracking,"eventDetails.action":"load more "+htLoadNumber,"eventDetails.label":"hot thread"})},error:function(){ht_is_loading=!1,removeHtAutoload()}})}function removeHtAutoload(){window.removeEventListener("resize",htloadnext),window.removeEventListener("scroll",htloadnext),window.removeEventListener("touch",htloadnext),window.removeEventListener("click",htloadnext),$("#ht-next").hide()}function htloadnext(){if(0==ht_is_loading&&isElementInViewport($("#ht-next"))){var e=$("#ht-next").attr("data-channel");$("#ht-next").attr("data-tracking");show_ht_channel(e)}}function bindHtNext(){$("#ht-next").length>0&&(window.addEventListener("resize",htloadnext,{passive:!0}),window.addEventListener("scroll",htloadnext,{passive:!0}),window.addEventListener("touch",htloadnext,{passive:!0}),window.addEventListener("click",htloadnext,{passive:!0}))}function isElementInViewport(e,t){t=t||0,$w=$(window);var a=$w.height(),s=$w.scrollTop(),o=$(e).offset().top,i=$(e).height();return o<a+s+t&&o>s-i-t}var tl_limit=20,tl_is_loading=!1,tl_page=1;function show_thread_list(e,t,a,s,o){tl_is_loading=!0;var i=$(window).scrollTop();$.post("/misc/get_threadlist_forum_landing/",{sort:e,cursor:t,order:a,feedtype:s,channel:o},function(e){tl_page++;var t=e.totalcount;$(e.html).insertBefore($("#threadlist-loading-area")),$("#tl_cursor").val(e.cursor),$(".mls-img").kslzy(300),window.scrollTo(0,i),$(document.body).trigger("sticky_kit:recalc"),window.scrollTo(0,i+1),bindSubscribeButton(),bindOpenWhoPosted(),bindThreadListShareMenuData(),bindJsTippy(),t<tl_limit||tl_page>1e3?($("#threadlist-loading-area").hide(),window.removeEventListener("resize",tlload),window.removeEventListener("scroll",tlload),window.removeEventListener("touch",tlload),window.removeEventListener("click",tlload)):tl_is_loading=!1},"json")}function updateNotice(e){var t=$.parseJSON($.cookie("notices"));t.push(e),$.cookie("notices",JSON.stringify(t),{expires:null,path:"/",domain:"",secure:!1})}function bindNotice(){$(".btn_close").length>0&&$(".btn_close").click(function(){var e=$(this).closest(".jsNoticeBoard");updateNotice(e.attr("data-id")),e.remove()})}function setThreadDisplay(e){var t=$("body").hasClass("is-title"),a="compact";$("body").hasClass("is-compact")&&(a="thumb"),"forum"!=e||t||(a="list"),$.ajax({url:"/misc/set_thread_list_display/"+a+"/"+e,success:function(e){location.reload()},error:function(){}})}function bindSetThreadDisplay(){if($(".jsCompactTrigger").length>0){var e=$(".jsCompactTrigger").attr("data-style");$(".jsCompactTrigger").click(function(){setThreadDisplay(e)})}}function setFeedDisplay(e){$(".jsFeedTrigger").unbind("click"),$.ajax({url:"/misc/set_feed_display/"+e,success:function(e){bindSetFeedDisplay(),location.reload()},error:function(){bindSetFeedDisplay()}})}function bindSetFeedDisplay(){$(".jsFeedTrigger").length>0&&$(".jsFeedTrigger").click(function(){setFeedDisplay($(this).attr("data-style"))})}function bindSetSubcategoryItem(e){$(e).hasClass("is-selected")?$(e).removeClass("is-selected"):$(e).addClass("is-selected"),0==$(".jsCategoryPersonalizationItem.is-selected").length?($(".jsButtonSubscribe").addClass("is-disabled"),$(".jsButtonSubscribe button").prop("disabled",!0),$(".jsButtonSubscribe button").toggleClass("Bgc(c-grey-light) C(c-grey) Bgc(c-blue) Bgc(c-blue-hover):h C(c-white)")):1==$(".jsCategoryPersonalizationItem.is-selected").length&&$(".jsButtonSubscribe").hasClass("is-disabled")&&($(".jsButtonSubscribe").removeClass("is-disabled"),$(".jsButtonSubscribe button").prop("disabled",!1),$(".jsButtonSubscribe button").toggleClass("Bgc(c-grey-light) C(c-grey) Bgc(c-blue) Bgc(c-blue-hover):h C(c-white)"))}function bindSetjsCategoryPersonalizationItem(){$("#subscribedFeed").click(function(){var e=[],t=[];$(".jsCategoryPersonalizationItem.is-selected").each(function(){e.push($(this).attr("data-forumid")),t.push("forum-"+$(this).attr("data-forumid")),dataLayer.push({forumSubscriber:1,userID:$(this).attr("data-userid"),forumId:$(this).attr("data-forumid"),forumName:$(this).attr("data-forumname"),forumParentId:$(this).attr("data-forumParentId"),forumParentName:$(this).attr("data-forumParentName"),channelId:$(this).attr("data-channelId"),channelName:$(this).attr("data-channelName")})}),$.ajax({url:"/misc/subscribe_multiple_forum",type:"post",data:{forumIds:e},success:function(e,a){"ok"==$.parseJSON(e).status?(dataLayer.push({event:"trackEvent","eventDetails.category":"feeds subscription","eventDetails.action":"subscribe","eventDetails.label":t.join(",")}),location.reload()):window.location="/user/login/forum"},error:function(e){window.location="/user/login/forum"}})}),$("#subscribedFeedLater").click(function(){dataLayer.push({event:"trackEvent","eventDetails.category":"feeds subscription","eventDetails.action":"skip","eventDetails.label":""}),setFeedDisplay("all_feed")})}function bindSetjsButtonSubscribe(){$(".jsCategoryPersonalizationItem").click(function(){bindSetSubcategoryItem($(this))})}function spoiler(e){"Show"==e.value?($(".content_"+$(e).attr("class")).slideDown(0),e.innerHTML="",e.value="Hide"):($(".content_"+$(e).attr("class")).slideUp(0),e.innerHTML="",e.value="Show")}function get_smilies(){if(localSmilies=get_MRU(),localSmilies)var e={smilies:$.param(localSmilies)};$.ajax({method:"POST",url:"/misc/get_smilies",data:e||{},success:function(e){e=JSON.parse(e),smilies=JSON.parse(e.kaskus),$(".smilies-tab").replaceWith(smilies.tab),$(".smilies-tab-content").replaceWith(smilies.content),e.mru?(smilies_mru=e.mru,$("#content-mru").html(smilies_mru),$("#mru").addClass("active"),$("#content-mru").addClass("active"),load_MRU()):$("#mru").hide(),show_tab(".smiley-wrapper .smiley-tab .tab-content > .active"),$(".smiley-tab__item").not(".smiley-tab__item--unavailable").find(".smilie__in-action").click(function(){get_focus(),smiley_tracking(this.children),insert_smilikiti(this.children)}),$("#emoticons").show()}})}function printDiv(e){window.frames.print_frame.document.body.innerHTML=document.getElementById(e).innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}function get_MRU(){var e=[];if(localStorage[mru_key]&&(mru=JSON.parse(localStorage[mru_key]),mru)){for(var t in mru)t.search("smilie")>-1&&e.push(mru[t]);var a={smilies:e}}return a||{}}function load_MRU(){var e=$("#content-mru").find(".loadMRU");return e&&$.each(e,function(e,t){$(t).attr("src",$('.loadSmilies[alt="'+$(t).attr("alt")+'"]').attr("data-src")),$(t).attr("title",$('.loadSmilies[alt="'+$(t).attr("alt")+'"]').attr("title")),$(t).removeAttr("class")}),!0}function show_tab(e){var t=$(e).find(".loadSmilies");return t&&$.each(t,function(e,t){$(t).attr("src",$(t).attr("data-src")),$(t).removeAttr("data-src"),$(t).removeAttr("class")}),!0}function insert_smilikiti(e){if(localStorage){if(a=JSON.parse(localStorage.getItem(mru_key)))for(var t in a)t==="smilie"+$(e).attr("alt")&&delete a[t];else var a=new Object;mru_limit==Object.keys(a).length&&delete a[Object.keys(a)[0]],a["smilie"+$(e).attr("alt")]=$(e).attr("alt"),localStorage.setItem(mru_key,JSON.stringify(a))}emoticon=$(e).attr("alt")+" ",$.markItUp({replaceWith:emoticon}),"1"!==$.cookie("use_old_qnt")&&(sceditorInstance.inSourceMode()?sceditorInstance.insert($(e).attr("alt")):sceditorInstance.insert('<img src="'+$(e).attr("src")+'" data-sceditor-emoticon="'+$(e).attr("alt")+'" border="0" alt="emoticon-'+$(e).attr("title")+'" title="'+$(e).attr("title")+'">',null,!1))}function jump_page(e){var t=$("#"+e).val(),a=$(".url_jump").val();window.location.href=a+t}function clickVideo(e){if((" "+e.className+" ").indexOf(" playing ")>-1){e.className=e.className.replace(/(?:^|\s)playing(?!\S)/g,"");var t=e.getElementsByTagName("video")[0];for(t.setAttribute("src",""),t.pause();t.firstChild;)t.removeChild(t.firstChild)}else{e.className+=" playing";var a=document.createElement("source");a.src=e.getAttribute("data-src"),a.type="video/mp4",e.getElementsByTagName("video")[0].setAttribute("src",e.getAttribute("data-src")),e.getElementsByTagName("video")[0].appendChild(a),e.getElementsByTagName("video")[0].play(),e.hasAttribute("data-threadid")&&(listThreadId.push(e.getAttribute("data-threadid")),e.removeAttribute("data-threadid"),updateView())}}function showMe(e){for(var t=document.getElementsByName("timeout"),a="none",s=0,o=0;o<t.length;o++)if(t[o].checked){a="block",s=1;break}$("input[name=timeout]").val(s),document.getElementById(e).style.display=a}function changeValueCreatedPoll(e){var t=$("input[name=created_poll]").val();$("input[name=created_poll]").val(1-t)}function checkcreatedPoll(){1==$("input[name=created_poll]").val()&&$(".sceditor-button-polling").addClass("active createdPoll")}if(null!=document.getElementById("jsToolbarSCEditor")){sceditor.formats.bbcode.remove("ol"),sceditor.formats.bbcode.remove("li"),sceditor.formats.bbcode.remove("ul");var spoilerTemplate='<div class="spoiler sceditor-ignore"><span class="spoiler-head sceditor-ignore"><span class="spoiler-label">Spoiler</span>&nbsp;for <span class="spoiler-title">%title%</span>: <input type="button" value="Hide" class="spoiler-btn open" onclick="this.parentElement.parentElement.nextSibling.classList.toggle(\'open\');this.parentElement.parentElement.nextSibling.nextSibling.classList.toggle(\'open\');this.value=this.value==\'Hide\'?\'Show\':\'Hide\'"></span></div><div class="spoiler-mid sceditor-ignore"></div><div class="spoiler-content expandable open" data-title="%title%">%content%</div>';function create_spoiler(e){swal("Masukkan Judul Spoiler:",{content:"input"}).then(t=>{null!==t&&($(".sceditor-button-source").hasClass("active")||(t=t.replace(/"/g,"&quot;")||"spoiler"),e.insert("[spoiler="+t+"]","[/spoiler]"))})}sceditor.formats.bbcode.set("spoiler",{tags:{div:{class:["spoiler-content expandable open","spoiler-content expandable"]}},allowsEmpty:!0,format:function(e,t){return"[spoiler="+($(e).data("title")||"spoiler")+"]"+t+"[/spoiler]"},html:function(e,t,a){var s=t.defaultattr.replace(/"/g,"&quot;");return spoilerTemplate.replace(/%title%/g,s).replace(/%content%/g,a)},isInline:!1,quoteType:sceditor.BBCodeParser.QuoteType.never}),sceditor.command.set("spoiler",{exec:function(){create_spoiler(this)},txtExec:function(){create_spoiler(this)},tooltip:"Masukkan Spoiler"}),sceditor.formats.bbcode.set("img",{allowsEmpty:!0,tags:{img:{src:null},video:{class:["c-giphy__preview"]}},allowedChildren:["#"],quoteType:sceditor.BBCodeParser.QuoteType.never,format:function(e,t){if($(e).attr("data-sceditor-emoticon"))return t;var a=$(e).attr("src")?$(e).attr("src"):$(e).attr("data-src"),s=a.split(new RegExp("(.+giphy.com.+)/.+.mp4$"));return"[img]"+(a=s[1]?s[1]+"/giphy.gif":a)+"[/img]"},html:function(e,t,a){var s=a.split(new RegExp("(.+giphy.com.+)/.+.gif$"));return s[1]?(a=s[1]+"/giphy-downsized-small.mp4",'<video class="c-giphy__preview" autoplay loop data-src="'+sceditor.escapeUriScheme(a)+'"> <source src="'+sceditor.escapeUriScheme(a)+'" type="video/mp4"> </video>'):'<img style="max-width:100%" src="'+sceditor.escapeUriScheme(a)+'" />'}});var quoteTemplate='<div class="sceditor-ignore quote-mark">Quote:</div>  <div class="quote expandable" data-by="%quotedBy%" data-postid="%quotedPostId%">%cite%%content%</blockquote></div>';function toggleSmilies(){1==$(".jsExtraForm:visible").length&&0==$(".jsSmiliesEditor:visible").length&&($(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active")),0==$(".jsSmiliesEditor:visible").length?($(".jsSmiliesEditor").show(),$(".sceditor-button-smilies").addClass("active")):($(".jsSmiliesEditor").hide(),$(".sceditor-button-smilies").removeClass("active")),$(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active")}function togglePolling(){if(0==$(".jsPollingForm:visible").length){$(".jsPollingForm").slideDown(),$(".sceditor-button-polling").addClass("active createdPoll");var e=$(".jsExtraFormContainer").offset().top}else swal({text:"Poll akan dihapus. Yakin?",icon:"warning",buttons:["Batal","Hapus"],dangerMode:!0}).then(e=>{if(e){$(".jsPollingForm").slideUp(),$(".sceditor-button-polling").removeClass("active createdPoll");var t=$("#jsToolbarSCEditor").offset().top;$("html, body").animate({scrollTop:t},400)}});$("html, body").animate({scrollTop:e},400)}function insertLink(e){var t=e.toBBCode(e.getRangeHelper().selectedHtml().toString()),a='<div class="Ta(s)">        <div class="Fz(16px) Mb(10px)">URL:</div>        <input class="swal-content__input" id="jsLinkInputUrl" placeholder="http://">        <div class="Fz(16px) My(10px)">Text to display:</div>        <input value="'+t+'" class="swal-content__input" id="jsLinkMediaInputText" placeholder="Link Url">      </div>',s=$.parseHTML(a);swal({content:s[0],buttons:{confirm:{value:""}}}).then(a=>{var s=$("#jsLinkInputUrl").val(),o=$("#jsLinkMediaInputText").val();t?""!==s&&e.insert("[url="+s+"]","[/url]"):e.insert("[url="+s+"]"+o,"[/url]")})}sceditor.formats.bbcode.set("quote",{tags:{div:{class:["quote expandable"]}},allowsEmpty:!0,format:function(e,t){var a=$(e).data("by"),s=$(e).data("postid"),o="";return""!==a&&""!==s&&(o="="+a+";"+s),"[quote"+o+"]"+t+"[/quote]"},html:function(e,t,a){var s="",o="",i="";if(t.defaultattr){var r=t.defaultattr.split(";");(o=r[0])&&(s='<cite class="sceditor-ignore">Original Posted By <b>'+o+"</b> ",s+='<a href="/post/'+(i=r[1]||"")+"#post"+i+'">â–º</a></cite>')}return quoteTemplate.replace(/%quotedBy%/g,o).replace(/%quotedPostId%/g,i).replace(/%cite%/g,s).replace(/%content%/g,a)},isInline:!1,quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.command.set("quote",{exec:function(){this.insert("[quote]","[/quote]")},txtExec:function(){this.insert("[quote]","[/quote]")},tooltip:"Masukkan Quote"}),sceditor.command.set("smilies",{exec:function(){toggleSmilies()},txtExec:function(){toggleSmilies()},tooltip:"Masukkan Smilies"}),sceditor.command.set("polling",{exec:function(){togglePolling()},txtExec:function(){togglePolling()},tooltip:"Buat Poll"}),sceditor.command.set("link",{exec:function(){insertLink(this)},txtExec:function(){insertLink(this)},tooltip:"Masukkan Link"}),$(document).on("click",".jsDivCounter",function(){sceditorInstance.focus();var e=sceditorInstance.getRangeHelper(),t=e.cloneSelected();if("selectNodeContents"in t){var a=sceditorInstance.getBody().children;t.selectNodeContents(a[a.length-1]),t.collapse(!1),e.selectRange(t)}}),$(document).on("click",".jsEmbedMediaButton",function(){var e=$.parseHTML('<div>      <input class="swal-content__input" id="jsEmbedMediaInputUrl" placeholder="Link Url">    </div>    <div class="Ta(c)">      <div class="My(15px)">Supported Media</div>      <div>        <i title="Youtube" class="fab fa-youtube"></i>        <i title="Vimeo" class="fab fa-vimeo-square"></i>        <i title="Soundcloud" class="fab fa-soundcloud"></i>        <i title="Twitch" class="fab fa-twitch"></i>        <i title="Facebook Video" class="icon icon-facebook-video"></i>        <i title="Dailymotion" class="icon icon-daily-motion"></i>        <i title="Smule" class="icon icon-smule"></i>      </div>    </div>');swal({text:"Masukkan URL Embed:",content:e[0],buttons:{confirm:{value:""}}}).then(e=>{var t=document.getElementById("jsEmbedMediaInputUrl").value;inserEmbedMedia(sceditor.instance(textareaSCeditor),t)})}),sceditor.command.set("mention",{exec:function(){toggleMention(this)},txtExec:function(){toggleMention(this)},tooltip:"Buat Mention"});var mentionToolbar='<div style="right: -86px;bottom: 43px;" class="jsMentionSCEditor jsMentionContainer W(205px) Pos(a) Z(1) B(25px) ">    <div class="W(15px) H(15px) Bgr(nr) Bgz(ct) Bgp(c) Bgi(bgTriangleGrey) Pos(a) Start(8px) B(-11px) Rotate(180deg)"></div>    <div class="Bd(borderSolidLightGrey) Bxsh(boxShadow)">      <div class="D(f) Pos(r) Bdb(borderSolidLightGrey)">        <input type="text" class="W(100%) autocomplete-mention Bd(none) Fz(14px) C(c-normal) Py(15px) Pstart(35px) Pend(15px)" placeholder="Cari username"/>        <i class="Pos(a) T(17px) Start(15px) fas fa-search C(c-grey)"></i>      </div>      <ul class="Bgc(c-white) mentionList">      </ul>    </div>  </div>';function toggleMention(e){$(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active"),0==$(".jsMentionContainer").length?($(mentionToolbar).appendTo("#jsToolbarSCEditor"),$(".sceditor-button-mention").addClass("active"),$(".jsMentionContainer input").focus()):($(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active"))}$(document).on("click",function(e){$(e.target).closest(".sceditor-button-mention, .jsMentionSCEditor ").length||$(".jsMentionSCEditor").length&&($(".jsMentionSCEditor").remove(),$(".sceditor-button-mention").removeClass("active"))});var mentionTemplate='<a class="mention" href="'+KASKUS_URL+'/@{username}">@{username}</a>';sceditor.formats.bbcode.set("mention",{tags:{a:{class:["mention"]}},allowsEmpty:!0,format:function(e,t){return"[mention]"+String($(e).attr("href")).split("@")[1]+"[/mention]"},html:function(e,t,a){return mentionTemplate.replace(/\{username\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto});var youtubeId,youtubeTemplate='<div class="sceditor-ignore youtube-player" onclick="this.nextElementSibling.style.display=\'block\'; this.style.display=\'none\';  this.nextElementSibling.src =\'https://www.youtube.com/embed/{id}?autoplay=1\'">  <div class="sceditor-ignore"><div class="icon" style="background-image:url(https://img.youtube.com/vi/{id}/0.jpg);padding-bottom:56.25%; width:100%; height: 0; background-size: cover; background-position:center; max-width: 100%"></div>  </div></div>  <iframe data-id="{id}" class="youtube-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"></iframe>';function getYoutubeId(e){var t=e.match(/(^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?|^)([^#\&\?]*).*/);return!(!t||11!==t[8].length)&&t[8]}sceditor.formats.bbcode.set("youtube",{tags:{iframe:{class:["youtube-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[youtube]"+$(e).data("id")+"[/youtube]"},html:function(e,t,a){return(youtubeId=getYoutubeId(a))?youtubeTemplate.replace(/\{id\}/gi,youtubeId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto});var twitterTemplate='<div class="sceditor-ignore" style="margin:0 auto;">\t\t\t\t\t\t\t<div style="position: relative;margin-top: 15px;margin-bottom: 15px;text-align: center">\t\t\t\t\t\t\t\t<img style="width: 480px" src="'+assetsFolderNew+'/images/image-placeholder-twitter.gif">\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="embed_twitter"  data-url="https://twitter.com/{user}/status/{id}"></div> ';sceditor.formats.bbcode.set("twitter",{tags:{div:{class:["embed_twitter"]}},allowsEmpty:!0,format:function(e,t){var a=new RegExp(/(?:http(?:s)?:\/\/)?(?:www\.)?twitter\.com\/(?:#!\/)?(\w+)\/status(es)?\/(\d+)/).exec($(e).data("url"));return null!==a?'[twitter="'+a[1]+'"]'+a[3]+"[/twitter]":""},html:function(e,t,a){return twitterTemplate.replace(/\{id\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto});var instagramTemplate='<div class="sceditor-ignore wrapperEmbedIg" style="position:relative; margin:15px auto; max-width:480px; text-align:center;"><img style="width:480px;" src="'+assetsFolderNew+'/images/image-placeholder-ig.gif"><div style="position:absolute; top:72px; left:0; width:100%; height:100%; z-index:5;"><img style="width:480px; height:480px; object-fit:cover;" src="https://instagram.com/p/{code}/media/?size=m"></div></div><div class="embed_instagram" data-url="{url}" data-code="{code}"></div> ';function getInstagramCode(e){var t=e.match(/((?:(?:(?:(?:https?)(?::\/\/))?(?:www\.?)?)?)(?:instagram\.com|instagr\.am)\/?([a-zA-Z0-9_.]{1,30})?\/p\/([A-Za-z0-9_\-]+)\/?)/);return!!t&&t[3]}sceditor.formats.bbcode.set("instagram",{tags:{div:{class:["embed_instagram"]}},allowsEmpty:!0,format:function(e,t){return"[instagram]"+$(e).data("url")+"[/instagram]"},html:function(e,t,a){return(instagramCode=getInstagramCode(a))?instagramTemplate.replace(/\{url\}/gi,a).replace(/\{code\}/gi,instagramCode):""},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto});var vimeoId,KASKUS_PODCAST_URL,vimeoTemplate='<iframe class="vimeo-player" data-id="{id}" src="https://player.vimeo.com/video/{id}?title=0&byline=0&portrait=0"   width="520" height="300" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';function getVimeoId(e){var t=e.match(/(vimeo\.com\/|^)(\d+)/);return!!t&&t[2]}sceditor.formats.bbcode.set("vimeo",{tags:{iframe:{class:["vimeo-player"]}},allowsEmpty:!0,format:function(e,t){return"[vimeo]"+$(e).data("id")+"[/vimeo]"},html:function(e,t,a){return(vimeoId=getVimeoId(a))?vimeoTemplate.replace(/\{id\}/gi,vimeoId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto});var podcastProgramTemplate='<iframe id="player" type="text/html" src="'+KASKUS_PODCAST_URL+'/widget/{user}/program/{slug}?embed=true" frameborder="0" class="iframe-podcast-program" data-id="{slug}" data-user="{user}" width="100%" scrolling="no" allowfullscreen></iframe>';sceditor.formats.bbcode.set("kaskuspodcast_program",{tags:{iframe:{class:["iframe-podcast-program"]}},allowsEmpty:!0,format:function(e,t){return'[kaskuspodcast_program="'+$(e).data("user")+'"]'+$(e).data("id")+"[/kaskuspodcast_program]"},html:function(e,t,a){return podcastProgramTemplate.replace(/\{slug\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto});var podcastEpisodeTemplate='<iframe id="player" type="text/html" src="'+KASKUS_PODCAST_URL+'/widget/{user}/episode/{id}?embed=true" frameborder="0" class="iframe-podcast-episode" data-id="{id}" data-user="{user}" width="100%" scrolling="no" allowfullscreen></iframe>';function getKaskusVideoId(e){var t=e.match(/[0-9a-f]{24}/);return!!t&&t[1]}sceditor.formats.bbcode.set("kaskuspodcast_episode",{tags:{iframe:{class:["iframe-podcast-episode"]}},allowsEmpty:!0,format:function(e,t){return'[kaskuspodcast_episode="'+$(e).data("user")+'"]'+$(e).data("id")+"[/kaskuspodcast_episode]"},html:function(e,t,a){return podcastEpisodeTemplate.replace(/\{id\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.formats.bbcode.set("kaskus_video",{tags:{iframe:{class:["kaskus_video"]},div:{class:["kaskus_video"]}},allowsEmpty:!0,format:function(e,t){return"[kaskus_video]"+$(e).data("id")+"[/kaskus_video]"},html:function(e,t,a){var s=a.match(/[0-9a-f]{24}/)[0];return'<iframe class="kaskus_video" data-id="'+s+'" style="display: block;" width="95%" height="350" frameborder="0" src="'+KASKUS_URL+"/embed/"+s+'"></iframe>'},quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.formats.bbcode.set("video",{tags:{a:{class:["toggle-play"]}},allowsEmpty:!0,format:function(e,t){return"[video]"+$(e).find("source").attr("src")+"[/video]"},html:function(e,t,a){return'  \t\t\t<a class="toggle-play" href="'+a+'" data-src="'+a+'" onclick="clickVideo(this);return false;">  \t\t\t\t'+('<video preload="auto" poster="'+a+'.png" loop="" muted="" title="" width="100%"><source src="'+a+'" type="video/mp4"></video>')+'  \t\t\t\t<span>  \t\t\t\t\t<span class="empty-space"></span>  \t\t\t\t\t<span class="gif-space">GIF</span>  \t\t\t\t</span>  \t\t\t</a>'},quoteType:sceditor.BBCodeParser.QuoteType.auto});var twitchTemplate='<div class="sceditor-ignore twitch-player" onclick="this.nextElementSibling.style.display=\'block\'; this.style.display=\'none\';this.nextElementSibling.src =\'/embed/video/{type}/{id}\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div class="sceditor-ignore" style="position:relative;cursor:pointer;display:inline-block; overflow: hidden;">  <img src="/embed/thumbnail_video_third_party/{type}/{id}" style="max-width: 100%" alt="{thread_title}" />  <i></i></div></div>  <iframe data-type="{type}" data-id="{id}"  class="twitch-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"></iframe>';function getTwitchId(e){var t=new RegExp(/(?:https?:\/\/)?(?:(.*?)(?:\.)?)twitch\.tv\/((?:(videos)\/)|\?.*(?:(?:(clip|channel)=)|(?:(video)=v?))|(?:(?:embed\?.*?clip=)))?(.*?)(\]|\[|&|$)/g).exec(e);if(null===t)return!1;var a=[];return a.id=t[6],"clips"==t[1]?a.type="twitch_clip":t[3]&&t[6]?a.type="twitch_video":a.type="twitch_channel",a}sceditor.formats.bbcode.set("twitch",{tags:{iframe:{class:["twitch-iframe"]}},allowsEmpty:!0,format:function(e,t){return'[twitch="'+$(e).data("type")+'"]'+$(e).data("id")+"[/twitch]"},html:function(e,t,a){return twitchTemplate.replace(/\{id\}/gi,a).replace(/\{type\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto});var fbvideoTemplate='<iframe id="fb-video" data-user="{user}" data-id="{id}" src="https://www.kaskus.co.id/embed/facebook/{user}/{id}" class="fb_video{id}" frameborder="0" allowfullscreen height="450px" width="100%" scrolling="no" onload="function resizeIframeFBBody(e){try{var t=JSON.parse(e.data); if( \'fb_video\' == t.type ){var vel = document.getElementsByClassName(\'fb_video\'+t.id); for(var v = 0; v < vel.length; v ++){if(vel[v].className.indexOf(\'resized\') > -1) continue; vel[v].className += \' resized\';vel[v].setAttribute(\'height\', t.height); if(t.width !== undefined){ vel[v].setAttribute(\'width\', t.width); };};};}catch(e){}}window.addEventListener(\'message\',resizeIframeFBBody,!1);"></iframe>';function getFbvideoId(e){var t=new RegExp(/http(?:s?):\/\/(?:www\.|web\.|m\.)?facebook\.com\/([A-z0-9\.]+)\/videos(?:\/[0-9A-z].+)?\/(\d+)(?:.+)?$/g).exec(e);if(null===t)return!1;var a=[];return a.user=t[1],a.id=t[2],a}sceditor.formats.bbcode.set("fb_video",{tags:{iframe:{id:["fb-video"]}},allowsEmpty:!0,format:function(e,t){return'[fb_video="'+$(e).data("user")+'"]'+$(e).data("id")+"[/fb_video]"},html:function(e,t,a){return fbvideoTemplate.replace(/\{id\}/gi,a).replace(/\{user\}/gi,t.defaultattr)},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto});var soundcloudId,soundcloudTemplate='<iframe class="soundcloud-player" data-id="{id}" width="100%" height="166" scrolling="no" frameborder="no"   src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/{id}&color=1484ce&auto_play=false"></iframe>';function getSoundCloudId(e){var t=e.match(/(tracks\/|^)(\d+)/);return!!t&&t[2]}sceditor.formats.bbcode.set("soundcloud",{tags:{iframe:{class:["soundcloud-player"]}},allowsEmpty:!0,format:function(e,t){return"[soundcloud]"+$(e).data("id")+"[/soundcloud]"},html:function(e,t,a){return(soundcloudId=getSoundCloudId(a))?soundcloudTemplate.replace(/\{id\}/gi,soundcloudId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto});var dailymotionId,dailymotionTemplate='<div class="dailymotion-wrapper sceditor-ignore" onclick="this.nextElementSibling.style.display=\'block\';  this.style.display=\'none\';this.nextElementSibling.src =\'//www.dailymotion.com/embed/video/{id}?autoplay=1\'"><div>  <img src="https://www.dailymotion.com/thumbnail/video/{id}" alt="{thread_title}" /><i></i></div></div>  <iframe class="dailymotion-iframe" style="display:none" data-id="{id}" type="text/html" width="100%" height="350" frameborder="0"></iframe>';function getDailymotionId(e){var t=e.match(/(?:(?:(?:dailymotion\.com(?:\/video|\/hub)|dai\.ly))\/([0-9a-z]+)(?:[\-_0-9a-zA-Z]+#video=(?:[a-z0-9]+))?|(^[0-9a-z]+$))/i);return!!t&&(t[1]||t[2])}sceditor.formats.bbcode.set("dailymotion",{tags:{iframe:{class:["dailymotion-iframe"]}},allowsEmpty:!0,format:function(e,t){return"[dailymotion]"+$(e).data("id")+"[/dailymotion]"},html:function(e,t,a){return(dailymotionId=getDailymotionId(a))?dailymotionTemplate.replace(/\{id\}/gi,dailymotionId):""},breakAfter:!0,quoteType:sceditor.BBCodeParser.QuoteType.auto});var smuleId,smuleTemplate='<iframe class="smule-player" data-id="{id}" frameborder="0" width="100%" height="125"   src="https://www.smule.com/recording/preview/{id}/frame" scrolling="no"></iframe>';function getSmuleId(e){var t=e.match(/(\d+_\d+)/i);return!!t&&t[1]}sceditor.formats.bbcode.set("smule",{tags:{iframe:{class:["smule-player"]}},allowsEmpty:!0,format:function(e,t){return"[smule]"+$(e).data("id")+"[/smule]"},html:function(e,t,a){return(smuleId=getSmuleId(a))?smuleTemplate.replace(/\{id\}/gi,smuleId):""},quoteType:sceditor.BBCodeParser.QuoteType.auto});var kaskusTvVodTemplate='<div class="sceditor-ignore" onclick="this.nextSibling.style.display=\'block\'; this.style.display=\'none\';this.nextSibling.src =\'//tv.kaskus.co.id/api/embed/live/{id}?autoplay&player_medium=kaskus-thread\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div style="position:relative;cursor:pointer;display:inline-block">  <img src="//tv.kaskus.co.id/api/video/{id}/thumbnail" width="700" height="350" style="max-width:100%" alt="{thread_title}" />  <i style="background: url(//s.kaskus.id/img/icon/player-yt-icon.png) center center no-repeat;height: 41px;left: 50%;margin: -20px 0 0 -30px;position:absolute;top: 50%;width: 60px;-moz-border-radius: 5px;opacity: 0.8;"></i>  </div>  </div><iframe data-id="{id}" class="kaskustv-vod-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"/></iframe>';sceditor.formats.bbcode.set("kaskustv",{tags:{iframe:{class:["kaskustv-vod-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[kaskustv]"+$(e).data("id")+"[/kaskustv]"},html:function(e,t,a){return kaskusTvVodTemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto});var KaskusTvLivetemplate='<div class="sceditor-ignore" onclick="this.nextSibling.style.display=\'block\'; this.style.display=\'none\';this.nextSibling.src =\'//tv.kaskus.co.id/api/embed/live/{id}?autoplay&player_medium=kaskus-thread\'" style="max-width: 100%;margin: 0 auto;display:inline-block;">  <div style="position:relative;cursor:pointer;display:inline-block">  <img src="//tv.kaskus.co.id/api/live/{id}/thumbnail" width="700" height="350" style="max-width:100%" alt="{thread_title}" />  <i style="background: url(//s.kaskus.id/img/icon/player-yt-icon.png) center center no-repeat;height: 41px;left: 50%;margin: -20px 0 0 -30px;position:absolute;top: 50%;width: 60px;-moz-border-radius: 5px;opacity: 0.8;"></i>  </div>  </div><iframe  data-id="{id}" class="kaskustv-live-iframe" style="display:none" type="text/html" width="100%" height="350" frameborder="0"/></iframe>';sceditor.formats.bbcode.set("kaskustv_live",{tags:{iframe:{class:["kaskustv-live-iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[kaskustv_live]"+$(e).data("id")+"[/kaskustv_live]"},html:function(e,t,a){return KaskusTvLivetemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto});var KaskusLiveTemplate='<iframe src="//live.kaskus.co.id/thread/info/{id}" data-id="{id}" class="livethread_iframe" width="100%" height="350px" frameborder="0"></iframe>';function toggleMedia(){1==$(".jsExtraForm:visible").length&&0==$(".jsEmbedMediaForm:visible").length&&($(".jsExtraForm").hide(),$(".sceditor-button-polling.active, .sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active")),0==$(".jsEmbedMediaForm:visible").length?($(".jsEmbedMediaForm").show(),$(".sceditor-button-media").addClass("active")):($(".jsEmbedMediaForm").hide(),$(".sceditor-button-media").removeClass("active")),$(".jsMentionContainer").remove(),$(".sceditor-button-mention").removeClass("active")}function inserEmbedMedia(e,t){var a;getYoutubeId(t)?(a=getYoutubeId(t),e.insert("[youtube]"+a+"[/youtube]")):getFbvideoId(t)?(a=getFbvideoId(t),e.insert('[fb_video="'+a.user+'"]'+a.id+"[/fb_video]")):getVimeoId(t)?(a=getVimeoId(t),e.insert("[vimeo]"+a+"[/vimeo]")):getTwitchId(t)?(a=getVimeoId(t),e.insert("[twitch]"+a.id+"[/twitch]")):getSoundCloudId(t)?(a=getSoundCloudId(t),e.insert("[soundcloud]"+a+"[/soundcloud]")):getDailymotionId(t)?(a=getDailymotionId(t),e.insert("[dailymotion]"+a+"[/dailymotion]")):getKaskusVideoId(t)?(a=getKaskusVideoId(t),e.insert("[kaskus_video]"+a+"[/kaskus_video]")):swal("Tidaaaak!","Link URL yang Agan Masukkan Salah!","error")}function push_validate(){sceditorInstance.readOnly(!0),$.ajax({type:"POST",url:"/misc/preview_post_ajax/1",dataType:"json",data:{title:$("#form-title").val(),forum_id:$("#forum_id").val(),icon_id:parseInt($("input[name=iconid]:checked").val()),message:sceditorInstance.val(),parseurl:1},success:function(e){var t=e.message.replace(/( <br \/>\n|<br \/>\n<br \/>\n)/g,"<div></div>");t=(t=t.replace(/class="mls-img" src=".*?" data-src="(.*?)"/g,'src="$1"')).replace(/class="spoiler"/g,'class="spoiler open"'),t+="<div><br></div>",sceditorInstance.setWysiwygEditorValue(t),sceditorInstance.readOnly(!1),setTimeout(function(){sceditorInstance.expandToContent()},100)},error:function(e){swal("Gagal ngecek, Gan!","Silakan dicoba kembali!","error"),sceditorInstance.readOnly(!1)}})}sceditor.formats.bbcode.set("kaskus_live",{tags:{iframe:{class:["livethread_iframe"]}},allowsEmpty:!1,breakAfter:!0,format:function(e,t){return"[livethread]"+$(e).data("id")+"[/livethread]"},html:function(e,t,a){return KaskusLiveTemplate.replace(/\{id\}/gi,a)},quoteType:sceditor.BBCodeParser.QuoteType.auto}),sceditor.command.set("media",{exec:function(){toggleMedia()},txtExec:function(){toggleMedia()},tooltip:"Masukkan Media"}),$(document).on("click",".jsButtonValidate",function(e){$(".sceditor-button-validate div").click()}),$(document).on("click",".jsButtonBBCode",function(e){$(".sceditor-button-source div").click(),""!=sceditorInstance.val()&&$(sceditorInstance.getBody()).removeClass("placeholder"),$(".sceditor-button-source").hasClass("active")?$(".jsButtonBBCode").addClass("is-active"):$(".jsButtonBBCode").removeClass("is-active"),$(".sceditor-button-validate").hasClass("disabled")?($(".jsButtonValidate").addClass("is-disabled"),$(".jsButtonValidate").prop("disabled",!0)):($(".jsButtonValidate").removeClass("is-disabled"),$(".jsButtonValidate").prop("disabled",!1));var t=$(e.currentTarget),a=$(".sceditor-container textarea");if(t.hasClass("active"))a.css({"padding-top":"20px","padding-left":"10px"}),a.width(a.parent("div").width()-10),setTimeout(function(){a.css("height","1px"),a.css("height",a.prop("scrollHeight")+"px")},100);else{a.css({padding:"0px"});var s=sceditorInstance.val().trimRight();""!==s&&sceditorInstance.val(s+"\n"),push_validate(),setTimeout(function(){sceditorInstance.expandToContent()},1e3)}}),sceditor.command.set("validate",{exec:function(){push_validate()},tooltip:"Validasi"});var pic=new Image,pic2=new Image,pic3=new Image,pic4=new Image,pic5=new Image,pic6=new Image,pic7=new Image,pic8=new Image,pic9=new Image,pic10=new Image,pic11=new Image,pic12=new Image,pic13=new Image;pic.src=assetsImageLocation+"ic-editor-bold-blue.svg",pic2.src=assetsImageLocation+"ic-editor-italic-blue.svg",pic3.src=assetsImageLocation+"ic-editor-underline-blue.svg",pic4.src=assetsImageLocation+"ic-editor-align-left-blue.svg",pic5.src=assetsImageLocation+"ic-editor-align-center-blue.svg",pic6.src=assetsImageLocation+"ic-editor-align-right-blue.svg",pic7.src=assetsImageLocation+"ic-editor-link-blue.svg",pic8.src=assetsImageLocation+"ic-editor-spoiler-blue.svg",pic9.src=assetsImageLocation+"ic-editor-quote-blue.svg",pic10.src=assetsImageLocation+"ic-editor-smilies-blue.svg",pic11.src=assetsImageLocation+"ic-editor-poll-blue.svg",pic12.src=assetsImageLocation+"ic-editor-image-blue.svg",pic13.src=assetsImageLocation+"ic-editor-mention-blue.svg";var textareaSCeditor=document.querySelector(".jsCreateThreadContentSCEditor"),toolbarSCEditor=document.getElementById("jsToolbarSCEditor"),heightSCEditor=$(window).height()-$(".jsCreateThreadHeader").outerHeight()-$(".jsCreateThreadTitle").outerHeight()-$(".jsToolbarSCEditorAnchor").outerHeight()-90-20-30-20-36-36;$(window).on("resize",function(){var e=$(window).height()-$(".jsCreateThreadHeader").outerHeight()-$(".jsCreateThreadTitle").outerHeight()-$(".jsToolbarSCEditorAnchor").outerHeight()-90-20-30-20-36;sceditorInstance.height(e)});var createThreadEditor=sceditor.create(textareaSCeditor,{style:sceditorStyleLocation,spellcheck:!1,plugins:"bbcode,undo",emoticonsEnabled:!1,format:"bbcode",toolbar:"bold,italic,underline|left,center,right,justify|font,color,size|link,spoiler,quote,source,validate|polling|mention,media,smilies",toolbarContainer:toolbarSCEditor,resizeMaxHeight:-1,height:heightSCEditor,icons:"custom",autoExpand:!0,resizeEnabled:!1,placeholder:"Mulai Menulis!"}),sceditorInstance=sceditor.instance(textareaSCeditor);function countChars(){var e=sceditor.instance(textareaSCeditor).val().length;$(".jsCharacterCounter").text(2e4-e),e>2e4?($(".jsCharacterCounter").addClass("C(c-red)"),$(".jsCharacterCounter").removeClass("C(c-grey)")):($(".jsCharacterCounter").addClass("C(c-grey)"),$(".jsCharacterCounter").removeClass("C(c-red)"))}$(sceditorInstance.getBody()).addClass("bodyTextArea"),""!=sceditorInstance.val()&&$(sceditorInstance.getBody()).removeClass("placeholder"),$('.sceditor-color-option[data-color="#484848"]').addClass("is-selected"),sceditorInstance.keyPress(function(e){13==e.which&&$(window).scrollTop()+$(window).height()>$(document).height()-$(".jsToolbarSCEditorAnchor").height()&&$("html, body").animate({scrollTop:$(document).height()},100)}),sceditorInstance.bind("paste",function(e){setTimeout(function(){sceditorInstance.insert(" "),sceditorInstance.val().substring(0,sceditorInstance.val().length-1)},10)}),sceditorInstance.keyUp(function(e){countChars(),sceditorInstance.expandToContent(!0)}),$(document).on("click",".jsClosePolling",function(){togglePolling()}),$(document).on("click",".sceditor-button-font, .sceditor-button-color, .sceditor-button-size",function(){$(".sceditor-button-media.active, .sceditor-button-smilies.active").removeClass("active"),$(".jsExtraForm").hide()})}function dataURLtoFile(e,t){for(var a=e.split(","),s=a[0].match(/:(.*?);/)[1],o=atob(a[1]),i=o.length,r=new Uint8Array(i);i--;)r[i]=o.charCodeAt(i);return new File([r],t,{type:s})}function resetInputAvatarAndCoverValue(){$("#jsUploadAvatar").length&&$("#jsUploadAvatar").val(""),$("#jsUploadCover").length&&$("#jsUploadCover").val("")}function removeAvatar(){$.post("/user/removeprofilepicture/",{userimgrev:$("#userimgrev").val()},function(e){$("#userimgrev").val(e.userimgrev),$("#userimgtime").val(e.userimgtime),$("#jsImageAvatar").attr("src",e.imgurl),$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){e=$.parseJSON(e),$("#jsImageAvatar").attr("src",e.imgurl),$(".jsModal #jsImageAvatar").attr("src",e.imgurl),$(".jsModal #jsPreviewAvatar").attr("src",e.imgurl),$("#loading").html(""),$("#remove_avatar").addClass("D(n)"),closeModal()}})},"json")}function uploadAvatar(){var e,t,a=["jpg","png","jpeg"];e=$("#jsUploadAvatarCropper").croppie({viewport:{width:250,height:250,type:"square"}}),$("#jsUploadAvatar").on("change",function(){!function(s){if(s.files&&s.files[0]){var o=new FileReader;o.onload=function(i){var r=s.files[0].name.split(".").pop().toLowerCase();if(a.indexOf(r)>-1)openModal("jsModalCropAvatar"),$(".cr-viewport").css("border-radius","50%"),setTimeout(function(){e.croppie("bind",{url:i.target.result})},400);else{t=s.files[0];var n=new FormData;n.append("userpicture",t),n.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/profilepicture",type:"POST",data:n,processData:!1,contentType:!1,dataType:"json",success:function(e,t){$(".sctoken").val(e.securitytoken),"ok"==e.status?$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){$("#remove_avatar").removeClass("D(n)"),$("#jsImageAvatar").attr("src",o.result),$(".jsModal #jsImageAvatar").attr("src",o.result),$(".jsModal #jsPreviewAvatar").attr("src",o.result),$(document).click()}}):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}})}},o.readAsDataURL(s.files[0])}else $("#jsModalError #error_message").html("Sorry - your browser doesn't support the FileReader API"),openModal("jsModalError")}(this)}),$("#jsButtonCropAvatar").on("click",function(t){e.croppie("result",{type:"base64",size:{width:400,height:400},quality:.8,format:"jpeg",backgroundColor:"#e9ebee"}).then(function(e){$("#jsImageAvatar").attr("src",e),$(".jsModal #jsImageAvatar").attr("src",e),$(".jsModal #jsPreviewAvatar").attr("src",e);var t=dataURLtoFile(e,"myavatar.jpg"),a=new FormData;a.append("userpicture",t),a.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/profilepicture",type:"POST",data:a,processData:!1,contentType:!1,dataType:"json",success:function(e,t){$(".sctoken").val(e.securitytoken),"ok"==e.status?$.ajax({url:"/user/update_avatar",type:"post",data:{userimgtime:e.userimgtime,userimgrev:e.userimgrev,imgurl:e.url},success:function(e){$("#remove_avatar").removeClass("D(n)"),closeModal()}}):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}})})})}function removeCoverImage(){$.post("/user/removecoverimage/",function(e){$.ajax({url:"/user/removecoverimage",type:"post",data:{imgurl:e.old_cover_image_url,action:"delete"},success:function(e){"string"!=e&&(e=$.parseJSON(e)),"ok"==e.status&&($("#jsImageCover").attr("src",assetsFolderNew+"/images/placeholder-cover-image.png"),$("#remove_cover").addClass("D(n)"),closeModal())}})},"json")}function uploadCover(){var e,t=["jpg","png","jpeg"];$("#jsImageCover").attr("src");e=$("#jsUploadCoverCropper").croppie({viewport:{width:685,height:113,type:"square"}}),$("#jsUploadCover").on("change",function(){!function(a){if(a.files&&a.files[0]){var s=new FileReader;s.onload=function(s){var o=a.files[0].name.split(".").pop().toLowerCase();t.indexOf(o)>-1?(openModal("jsModalCropCover"),$(".cr-viewport").css("border-radius",""),setTimeout(function(){e.croppie("bind",{url:s.target.result})},400)):($("#jsModalError #error_message").html("Hanya boleh upload gambar dengan ekstensi <b>.jpg</b>, <b>.png</b>, dan <b>.jpeg</b>"),openModal("jsModalError"))},s.readAsDataURL(a.files[0])}else $("#jsModalError #error_message").html("Sorry - your browser doesn't support the FileReader API"),openModal("jsModalError")}(this)}),$("#jsButtonCropCover").on("click",function(t){e.croppie("result",{type:"base64",size:{width:970,height:160},quality:.8,format:"jpeg",backgroundColor:"#e9ebee"}).then(function(e){$("#jsImageCover").attr("src",e),$(".jsModal #jsImageCover").attr("src",e);var t=dataURLtoFile(e,"mycover.jpg"),a=new FormData;a.append("userpicture",t),a.append("securitytoken",$(".sctoken").val()),$.ajax({url:"/user/coverimage",type:"POST",data:a,processData:!1,contentType:!1,dataType:"json",success:function(e){$(".sctoken").val(e.securitytoken),"ok"==e.status?($("#remove_cover").removeClass("D(n)"),closeModal()):($("#jsModalError #error_message").html(e.error),openModal("jsModalError"))}})})})}function modify_notification_list(e){var t=parseInt($("#notification_data").attr("data-offset")),a=e.operation;if("delete"!=a){var s="/notification/get_notification/?displayed_state="+e.newState+"&notifId="+e.notificationId;$.get(s,function(s){switch("object"!=typeof s&&(s=$.parseJSON(s)),e=s.notification,a){case"add":$("#notif_wrapper_page .notif_empty").hide(),template=build_notification_card(e),$("#notif_wrapper_page #"+String(e._id.$id)).length>0?$("#notif_wrapper_page #"+String(e._id.$id)).remove():$("#notification_data").attr("data-offset",t+1),$("#notif_wrapper_page .notificationList").prepend(template).fadeIn(300);break;case"update":$("#notif_wrapper_page #"+String(e._id.$id)).length>0&&($("#notif_wrapper_page #"+String(e._id.$id)).remove(),template=build_notification_card(e),$("#notif_wrapper_page .notificationList").prepend(template).fadeIn(300))}})}else $("#notif_wrapper_page #"+String(e.notificationId)).length>0&&($("#notif_wrapper_page #"+String(e.notificationId)).remove(),$("#notif_wrapper #"+String(e.notificationId)).remove(),$("#notification_data").attr("data-offset",t-1))}function build_notification_card(e){return template=$("#notif_wrapper_page #notificationCardTemplate").html(),template=template.replace("Bgc(c-white)","Bgc(c-grayish)"),template=template.replace(" data-src="," src="),template=template.replace(/{notifType}/g,e.type),template=template.replace("{notifId}",String(e._id.$id)),read_url="/notification/read/"+String(e._id.$id)+"/?is_pop_up=false",template=template.replace("{clickUrl}",read_url),template=template.replace("{postBody}",e.additional_data.post_body),template=template.replace("{lastUpdated}",e.last_updated),e.additional_data.post_content?(template=template.replace("{postBodyAlign}","fs"),template=template.replace("{postContent}",'<div class="C(c-darker-grey) Fz(13px) Lh(18px) Wob(breakWord) LineClamp(2,35px)">'+e.additional_data.post_content+"</div>")):(template=template.replace("{postBodyAlign}","c"),template=template.replace("{postContent}","")),e.additional_data.img_src?template=template.replace("{imageSource}",'<div class="Fx(flexZero) Mstart(10px)"><img class="W(60px) H(60px)" src="'+e.additional_data.img_src+'"></div>'):template=template.replace("{imageSource}",""),template}function getDisplayedState(){return $("#notification_data").attr("data-displayed_state")}function getFetchNotifGif(){return fetching_notif='<img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',html='<div id="load_image" class="Ta(c)">'+fetching_notif+"</div>",html}function getTypeName(e){switch(type_name="",e){case"all":type_name="All (Default)";break;case"reputation":type_name="Cendol";break;case"quoted_post":type_name="Quote";break;case"thread_replies":type_name="Reply"}return type_name}function hideLoadMoreLink(e,t){"reputation"==$(e+" #type ul li a.Fw\\(700\\)").attr("data-type")&&$(e+" #see_more").addClass("D(n)"),$("#notification_data").attr("data-displayed_state",t);var a=parseInt($("#total_notif").attr("value"));$("#notification_data").attr("data-offset")>=a-30&&($(e+" .load_more").hide(),$(e+" #see_more").addClass("D(n)"))}function getNotifications(e,t){$(e+" #notif_counter_wrapper").removeClass("D(n)"),$(e+" .notificationList").html(getFetchNotifGif()),$("#notification_data").attr("data-offset",0),"quoted_post"==t?($(e+" #notif_counter_wrapper").addClass("D(n)"),$(e+" #filterName").text(getTypeName(t)),$(e+" #type a").removeClass("Fw(700)"),$(e+" #type [data-type=quoted_post]").addClass("Fw(700)"),$(e+" #type").removeClass("is-visible"),url="/myforum/myquotedpost/?offset="+$("#notification_data").attr("data-offset"),getNotificationData(e,url)):"reputation"==t?($(e+" #notif_counter_wrapper").addClass("D(n)"),$(e+" #filterName").text(getTypeName(t)),$(e+" #type a").removeClass("Fw(700)"),$(e+" #type [data-type=reputation]").addClass("Fw(700)"),$(e+" #type").removeClass("is-visible"),url="/notification/reputation",getNotificationData(e,url)):($(e+" .load_more").hide(),type_name=getTypeName(t),displayed_state=getDisplayedState(),url="/notification/show/"+t+"/?ispopup=false&type_name="+type_name+"&displayed_state="+displayed_state,$.get(url,function(t){"object"!=typeof t&&(t=$.parseJSON(t)),$("#notif_wrapper_page").html(t.view.replace(" data-src="," src=")),$(e+" .load_more").show(),hideLoadMoreLink(e,t.new_state)}))}function getNotificationData(e,t){$(e+" .notif_empty").hide(),$(e+" #notif_empty_template").addClass("D(n)");var a=$(e+" #type ul li a.Fw\\(700\\)").attr("data-type"),s="";$(e+" #see_more").hasClass("D(n)")||$(e+" #see_more").addClass("D(n)"),$.get(t,function(t){if("object"!=typeof t&&(t=$.parseJSON(t)),0==t.notifications.length){"reputation"==a?$(e+" #notif_empty_template span").text("Agan belum memiliki reputasi nih. Untuk mendapatkan cendol, Agan bisa mulai komen atau buat thread di Kaskus. Jika Kaskuser lain merasa thread Agan menarik, maka Agan bisa mendapatkan cendol atau bata."):"quoted_post"==a&&$(e+" #notif_empty_template span").text("Agan belum memiliki post yang dibalas nih. Coba deh Agan komen atau buat thread dulu."),$(e+" .notif_empty").hide(),$(e+" #notif_empty_template").removeClass("D(n)")}$.each(t.notifications,function(t,o){template=$(e+" #notificationCardTemplate").html(),template=template.replace(" data-src="," src="),template=template.replace(/{notifType}/g,o.type),o.url.indexOf("?")<0?o.url.indexOf("#")<0?track_url=o.url+"/?ref=notification&med=single_page_"+a:track_url=o.url.replace("#","/?ref=notification&med=single_page_"+a+"#"):o.url.indexOf("#")<0?track_url=o.url+"&ref=notification&med=single_page_"+a:track_url=o.url.replace("#","&ref=notification&med=single_page_"+a+"#"),template=template.replace("{notifId}",""),template=template.replace("{clickUrl}",track_url),template=template.replace("{postBody}",o.additional_data.post_body),template=template.replace("{lastUpdated}",o.last_updated),o.additional_data.post_content?(template=template.replace("{postBodyAlign}","fs"),template=template.replace("{postContent}",'<div class="C(c-darker-grey) Fz(13px) Lh(18px) Wob(breakWord) LineClamp(2,35px)">'+o.additional_data.post_content+"</div>")):(template=template.replace("{postBodyAlign}","c"),template=template.replace("{postContent}","")),o.additional_data.img_src?template=template.replace("{imageSource}",'<div class="Fx(flexZero) Mstart(10px)"><img class="W(60px) H(60px)" src="'+o.additional_data.img_src+'"></div>'):template=template.replace("{imageSource}",""),s+=template}),$(e+" .notificationList").append(s),$(e+" #load_image").remove(),$("#total_notif").attr("value",t.total_notif),$(e+" #see_more").removeClass("D(n)"),hideLoadMoreLink(e,getDisplayedState())})}function seeMore(){var e="#notif_wrapper_page";$(e+" .load_more").hide(),$(e+" #see_more").hasClass("D(n)")||"quoted_post"!=t||$(e+" #see_more").addClass("D(n)"),$(e+" #notification_see_more").append(getFetchNotifGif());var t=$(e+" #type ul li a.Fw\\(700\\)").attr("data-type"),a=parseInt($("#notification_data").attr("data-offset"));if($("#notification_data").attr("data-offset",a+30),"quoted_post"==t)$(e+" .notificationList").append(getFetchNotifGif()),s="/myforum/myquotedpost/?offset="+$("#notification_data").attr("data-offset"),getNotificationData(e,s);else if("reputation"==t)$(e+" .notificationList").append(getFetchNotifGif()),getNotificationData(e,s="/notification/reputation");else{type_name=getTypeName(t),displayed_state=getDisplayedState();var s="/notification/show/"+t+"/?ispopup=false&type_name="+type_name+"&displayed_state="+displayed_state+"&offset="+$("#notification_data").attr("data-offset");$.get(s,function(a){"object"!=typeof a&&(a=$.parseJSON(a)),$(e+" #notification_see_more #load_image").remove(),$(e+" #notification_see_more").append(a.view.replace(" data-src="," src=")),"quoted_post"==t&&$(e+" #see_more").removeClass("D(n)"),$(e+" .load_more").show(),hideLoadMoreLink(e,a.new_state)})}}function ignoreDataLayer(e){dataLayer.push({event:"trackEvent","eventDetails.category":"connection","eventDetails.action":e,"eventDetails.label":"profile"})}function add_connection(e,t,a){closeModal();var s=$("#currentid").val(),o=$("#loginid").val(),i=e.substring(e.lastIndexOf("/")+1);$.post(e,{securitytoken:$("#sctoken").val()},function(e){if($("#sctoken").val(e.securitytoken),1==e.result){var r=parseInt($("#following_info").text().replace(/[,\.]/g,"")),n=parseInt($("#follower_info").text().replace(/[,\.]/g,""));if("Unfollow"==e.connection_type)s!=o&&i!=s||($("#unfollow_btn").show(),$("#follow_btn").hide(),s==o&&(count=r+1,$("#following_info").text(count.toLocaleString())),i==s&&(count=n+1,$("#follower_info").text(count.toLocaleString()))),followCustomMetrics("follow",o,i),showBottomToast("Agan berhasil mengikuti "+t,1500);else if("Follow"==e.connection_type)s!=o&&i!=s||($("#follow_btn").show(),$("#unfollow_btn").hide(),$("#blocked_btn").hide(),e.hasOwnProperty("number_of_following")?(s==o&&(count=r-1,$("#following_info").text(count.toLocaleString())),i==s&&(count=n-1,$("#follower_info").text(count.toLocaleString()))):($("#block_btn").show(),$("#unblock_btn").hide())),e.hasOwnProperty("number_of_following")?(followCustomMetrics("unfollow",o,i),showBottomToast("Agan telah berhenti mengikuti "+t,1500)):(ignoreDataLayer("unignore"),showBottomToast("Agan telah menghapus "+t+" dari ignore list",1500));else if("Unblock"==e.connection_type){if(s==o||i==s){var l=$("#follow_btn").attr("style");$("#unblock_btn").show(),$("#block_btn").hide(),$("#follow_btn").hide(),$("#unfollow_btn").hide(),$("#blocked_btn").show(),$("#unblock_btn").attr("data-id","unignore"),l&&void 0!==l&&!1!==l?(s==o&&(count=r-1,$("#following_info").text(count.toLocaleString())),i==s&&(count=n-1,$("#follower_info").text(count.toLocaleString())),followCustomMetrics("ignore",o,i)):ignoreDataLayer("ignore")}showBottomToast("Agan berhasil mengabaikan "+t,1500)}}else 0==e.result&&showBottomToast(e.error_message,1500);"following"==a?(setTimeout(function(){openModal("jsModalFollowingList")},1500),load_following_data()):"follower"==a&&(setTimeout(function(){openModal("jsModalFollowersList")},1500),load_follower_data())},"json")}function followCustomMetrics(e,t,a){dataLayer.push({event:"trackEvent","eventDetails.category":"connection","eventDetails.action":e,"eventDetails.label":"profile",Follow:"follow"===e?1:-1,userID:t,userIDHit:a})}function set_data_unfol_modal(e,t,a,s,o){$("#jsModalConfirmUnfollow img").attr("src",e),set_show_modal_confirm(a,t,s,o)}function set_data_unblock_modal(e,t,a,s,o){$("#jsModalConfirmUnblock img").attr("src",e),set_show_modal_confirm(a,t,s,o)}function set_show_modal_confirm(e,t,a,s){$("#confirm-message").html(t),$(".confirm-action").attr("onclick","add_connection('"+e+"', '"+a+"', '"+s+"')")}$(document).ready(function(){var e=!1,t="";$(".get_notifications").click(function(){$(".jsNotificationDropdownMenu").hasClass("is-visible")?$(".jsNotificationIcon i").attr("data-id","header-notification"):$(".jsNotificationIcon i").removeAttr("data-id");var a=$("#notification_data").attr("data-displayed_state");if(t!=a&&(e=!1),!e){fetching_notif='<img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="notification-loading" />',$("#notif_wrapper").html('<div class="Ta(c)">'+fetching_notif+"</div>");var s="/notification/show/all/?ispopup=true&displayed_state="+a;$.get(s,function(s){"object"!=typeof s&&(s=$.parseJSON(s)),$("#notification_see_more"),$("#notif_wrapper").html(s.view),show_request_fcm_popup(),bindRequestFcm(),$(".notif_red").hasClass("D(tb)")&&($(".notif_red").removeClass("D(tb)"),$(".notif_red").addClass("D(n)")),$("#notification_data").attr("data-displayed_state",s.new_state),t=a,e=!0})}})}),$("#qr-code-btn").click(function(){$.ajax({url:"/profile/qrcode/"+$(this).data("userid"),success:function(e){var t=e.qrcode;t?$("#img-qrcode").attr("src","data:image/png;base64,"+t):($("#img-qrcode").hide(),$("#div-qr-code").html("Failed to generate QR Code"))}})}),$(document).on({mouseenter:function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")},mouseleave:function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")}},".jsButtonBlockedHeader"),$(document).on({mouseenter:function(){$(this).text($(this).data("hover"))},mouseleave:function(){$(this).text($(this).data("default"))}},".jsFollowingButton, .jsBlockedButton");var moderated_page=1,load_more_forum='<li id="forum-loadmore" class="D(f) Ai(c) Mb(15px)"><a data-id="moderator-load-more" onclick="load_more_moderated_forum()" href="javascript:void(0)" class="D(b) W(100%) Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)">Load More</a></li>';function moderate(){moderated_page=1,$("#jsModalModerateList .data-moderate").empty(),$.get("/profile/get_all_forum_moderate/?user_id="+user_id+"&moderate_page="+moderated_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),forum_moderate=e.result.list_forum,forum_icon=e.result.forum_icon;var t="";delete forum_moderate.total_post,$.each(forum_moderate,function(e,a){t+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+forum_icon[e]+'" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><a class="Fw(500) C(c-normal))" href="'+a.url+'">'+a.name+"</a></div></div>"}),moderated_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalModerateList .data-moderate").append(t),page_remaining>0&&$("#jsModalModerateList .data-moderate").append(load_more_forum)})}function load_more_moderated_forum(){$.get("/profile/get_all_forum_moderate/?user_id="+user_id+"&moderate_page="+moderated_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),forum_moderate=e.result.list_forum,forum_icon=e.result.forum_icon;var t="";delete forum_moderate.total_post,$.each(forum_moderate,function(e,a){t+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+forum_icon[e]+'" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><a class="Fw(500) C(c-normal))" href="'+a.url+'">'+a.name+"</a></div></div>"}),moderated_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalModerateList .data-moderate").append(t),$("#forum-loadmore").remove(),page_remaining>0&&$("#jsModalModerateList .data-moderate").append(load_more_forum)})}var badge_page=1,load_more='<li id="badge-loadmore" class="D(f) Ai(c) Mb(15px)"><a data-id="badge-load-more" onclick="load_more_badge()" href="javascript:void(0)" class="D(b) W(100%) Bgc(#1998ed):h C(c-white):h Td(n):h D(b) Py(7px) Px(7px) Fw(500) Ta(c) C(#1998ed) Bd(borderSolidBlue) Bdrs(5px) Mb(10px)">Load More</a></li>';function badge(){badge_page=1,$("#jsModalBadgeList .data-badge").empty(),$.get("/profile/get_all_badges/?user_id="+user_id+"&badge_page="+badge_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),list_badge=e.result.badges;var t="";delete list_badge.total_post,$.each(list_badge,function(e,a){t+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+badge_url+a.badge_id+'.gif" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><div class="Fw(500) ">'+a.event+'</div><div class="Mt(5px) Fz(11px) C(c-grey)"></div></div></div>'}),badge_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalBadgeList .data-badge").append(t),page_remaining>0&&$("#jsModalBadgeList .data-badge").append(load_more)})}function load_more_badge(){$.get("/profile/get_all_badges/?user_id="+user_id+"&badge_page="+badge_page,function(e){"object"!=typeof e&&(e=$.parseJSON(e)),list_badge=e.result.badges;var t="";delete list_badge.total_post,$.each(list_badge,function(e,a){t+='<div class="D(f) Ai(c) Py(10px)"><div class="Fx(flexZero)"><img src="'+badge_url+a.badge_id+'.gif" class="W(50px) H(50px)" /></div><div class="Fx(flexOne) Ta(s) Mstart(20px)"><div class="Fw(500) ">'+a.event+'</div><div class="Mt(5px) Fz(11px) C(c-grey)"></div></div></div>'}),badge_page=e.result.next_page,page_remaining=e.result.page_remaining,$("#jsModalBadgeList .data-badge").append(t),$("#badge-loadmore").remove(),page_remaining>0&&$("#jsModalBadgeList .data-badge").append(load_more)})}var assetsFolderNew=assetsFolderNew||"",loading_img='<div class="W(100%) Ta(c) Mt(50px) Mb(50px)"><img src="'+assetsFolderNew+'/images/icon-load-biru.gif" width="40" height="40" alt="conection-loading" /></div>',tab=$("#tab-act").val(),connection_type="following",userid=$("#current-user").val(),current_page=$("#current-page").val();function get_list_connection(e){$("#loading-area").html(loading_img),$("#pagination").html(""),$.get("/profile/get_connection/?connection_type="+e+"&id="+userid+"&theme=new_connection&page="+current_page,function(e){$("#loading-area").html(e.html),$("#pagination").html(e.pagination)},"json")}function connection_action(e,t,a){var s=$("#loginid").val(),o=e.substring(e.lastIndexOf("/")+1);$.post(e,{securitytoken:$("#sctoken").val()},function(i){$("#sctoken").val(i.securitytoken),1==i.result?(get_list_connection(a),e.search("/follow")>0?(followCustomMetrics("follow",s,o),showBottomToast("Agan berhasil mengikuti "+t,1500)):e.search("/unfollow")>0?(followCustomMetrics("unfollow",s,o),showBottomToast("Agan telah berhenti mengikuti  "+t,1500)):e.search("/unblock")>0&&(ignoreDataLayer("unignore"),showBottomToast("Agan telah menghapus "+t+" dari ignore list",1500))):showBottomToast(i.error_message,3e3)},"json")}function modal_action(e,t,a){closeModal(),connection_action(e,t,a)}function set_connection_unfol_modal(e,t,a,s,o){$("#jsModalConfirmUnfollow img").attr("src",e),$(".confirm-action").removeAttr("data-id").attr("data-id","button-unfollow"),connection_show_modal_confirm(a,t,s,o)}function set_connection_unblock_modal(e,t,a,s,o){$("#jsModalConfirmUnblock img").attr("src",e),$(".confirm-action").removeAttr("data-id").attr("data-id","button-unignore"),connection_show_modal_confirm(a,t,s,o)}function connection_show_modal_confirm(e,t,a,s){$("#confirm-subtitle, #confirm-message").html(t),$(".confirm-action, .confirm-action-unignore").attr("onclick","modal_action('"+e+"', '"+a+"', '"+s+"')")}function searchConnection(){if(""!=$("#search_connection_keyword").val()){$.ajax().abort();var e=$("#current-user").val(),t=$("#search_connection_keyword").val();$("#loading-area").html(loading_img),$("#pagination").html(""),$.get("/profile/get_networkings/"+tab+"/0/"+e+"/0/"+t+"/new_connection",function(e){$("#loading-area").html(e.html)},"json")}else alert("Silahkan masukkan kata kunci terlebih dahulu.")}var topicDetailThreadLoading=!1,showcaseLoading=!1;function bindThreadShowcaseNext(){$("#trigger-showcase").length>0&&(window.addEventListener("resize",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("scroll",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("touch",fetch_more_thread_showcase,{passive:!0}),window.addEventListener("click",fetch_more_thread_showcase,{passive:!0}))}function removeThreadShowcaseAutoload(){window.removeEventListener("resize",fetch_more_thread_showcase),window.removeEventListener("scroll",fetch_more_thread_showcase),window.removeEventListener("touch",fetch_more_thread_showcase),window.removeEventListener("click",fetch_more_thread_showcase),$("#trigger-showcase").hide()}function fetch_more_thread_showcase(){var e=$("#trigger-showcase");if(!showcaseLoading&&isElementInViewport(e)){showcaseLoading=!0;var t=e.attr("data-offset"),a=e.attr("data-status");$.ajax({url:KASKUS_URL+"/threadshowcase/load_more_hot_topic_list/"+t+"/?status="+a,type:"GET",xhrFields:{withCredentials:!0},success:function(a){"object"!=typeof a&&(a=$.parseJSON(a)),0==a.error&&0!=a.showcases.length||(showcaseLoading=!1,removeThreadShowcaseAutoload());for(var s=a.showcases,o=$(".showcase-base").first(),i=0;i<s.length;i++)newElm=o.clone(),newElm.attr("href","/topic/"+s[i].url+"/?ref=topiclist&med=topicshowcase"),newElm.attr("onclick",s[i].tracking),$(newElm).find("img").attr("data-src",s[i].media_vertical),$(newElm).find("img").attr("alt",s[i].url),$(newElm).find("img").attr("class","mls-img"),newElm.removeClass("D(n) showcase-base"),newElm.insertBefore(o),$(".mls-img").kslzy(300);var r=parseInt(parseInt(t)+s.length);e.attr("data-offset",r),showcaseLoading=!1,dataLayer.push({event:"trackEvent","eventDetails.category":"topic list","eventDetails.action":"load more","eventDetails.label":"topic"})},error:function(){showcaseLoading=!1,removeThreadShowcaseAutoload()}})}}function toggleUpVote(e,t=null){if(null===t){$(".is-up-vote",e).toggleClass("active"),$(".fa-arrow-up",e).toggleClass("C(c-green)");var a=e.parents(".vote-wrapper");a.find(".is-down-vote").removeClass("active"),a.find(".fa-arrow-down").removeClass("C(c-red)")}else doToggleUpVote(e,t)}function doToggleUpVote(e,t){e.toggleClass("active"),e.find(".fa-arrow-up").toggleClass("C(c-green)");var a=e.closest(".vote-wrapper"),s=0;a.find(".fa-arrow-down").hasClass("C(c-red)")&&(a.find(".fa-arrow-down").removeClass("C(c-red)"),a.find(".is-down-vote").removeClass("active"),s=-1),a.find(".vote-value").html(t.upvote-t.downvote),ga_custom_track_vote(e,t,s);var o=a.find(".is-down-vote");o.hasClass("vote-thread")||o.addClass("vote-thread")}function toggleDownVote(e,t=null){if(null===t){$(".is-down-vote",e).toggleClass("active");var a=e.parents(".vote-wrapper");a.find(".is-up-vote").removeClass("active"),a.find(".fa-arrow-up").removeClass("C(c-green)")}else doToggleDownVote(e,t)}function doToggleDownVote(e,t){e.toggleClass("active"),e.find(".fa-arrow-down").toggleClass("C(c-red)");var a=e.closest(".vote-wrapper"),s=0;a.find(".fa-arrow-up").hasClass("C(c-green)")&&(a.find(".is-up-vote").removeClass("active"),a.find(".fa-arrow-up").removeClass("C(c-green)"),s=1),a.find(".vote-value").html(t.upvote-t.downvote),ga_custom_track_vote(e,t,s),1==t.disable_bata&&e.removeClass("vote-thread")}function ga_custom_track_vote(e,t,a){var s=e.attr("data-category"),o=e.attr("data-status-vote"),i=e.attr("data-postid"),r=e.attr("data-userid"),n=e.attr("data-postuserid");e.closest(".vote-wrapper");let l={event:"trackEvent","eventDetails.category":s,"eventDetails.label":i,userID:r,userIDHit:n,postID:i};if(0!=a)l["eventDetails.action"]=a<0?"cendol":"bata",l.threadCendol=a>0?"-1":"1",l.threadBata=a<0?"-1":"1";else if(1==o){let t=e.closest(".vote-wrapper").find(".fa-arrow-up").hasClass("C(c-green)");l["eventDetails.action"]=t?"cendol":"uncendol",l.threadCendol=t?"1":"-1"}else{let t=e.closest(".vote-wrapper").find(".fa-arrow-down").hasClass("C(c-red)");l["eventDetails.action"]=t?"bata":"unbata",l.threadBata=t?"1":"-1"}_gaq.push(["_trackEvent",s,l["eventDetails.action"],i]),dataLayer.push(l)}function landing_connection(e){var t=e.attr("data-url"),a=e.attr("data-creator-id"),s=e.attr("data-user-id"),o=e.attr("data-creator-username"),i=$("#securitytoken").val();$.post(t,{securitytoken:i},function(t){"object"!=typeof t&&(t=$.parseJSON(t)),$("#securitytoken").val(t.securitytoken),1==t.result?"Unfollow"==t.connection_type?(e.attr("data-default",t.label_connection),e.attr("data-hover",t.word),e.attr("data-url",t.url),e.text(t.label_connection),e.removeClass("C(c-white) Bgc(c-blue)"),e.addClass("C(c-secondary) Bgc(c-gray-2)"),followCustomMetrics("follow",s,a.toString()),showBottomToast(window.KASKUS_lang.success_follow_msg.replace("%s",o),3e3),bindTopKreatorHoverFollowBtn()):"Follow"==t.connection_type&&(e.removeAttr("data-default"),e.removeAttr("data-hover"),e.attr("data-url",t.url),e.text(t.word),t.hasOwnProperty("number_of_following")?(e.removeClass("C(c-secondary) Bgc(c-gray-2)"),e.addClass("C(c-white) Bgc(c-blue)"),followCustomMetrics("unfollow",s,a.toString()),showBottomToast(window.KASKUS_lang.success_unfollow_msg.replace("%s",o),3e3)):(e.removeClass("C(c-red-1) Bgc(c-gray-2)"),e.addClass("C(c-white) Bgc(c-blue)"),ignoreDataLayer("unignore"),showBottomToast(window.KASKUS_lang.success_unignore_msg.replace("%s",o),3e3)),$(this).unbind("mouseenter mouseleave")):0==t.result&&showBottomToast(t.error_message,3e3)},"json")}function bindTopKreatorClickFollowBtn(){$(".jsLandingFollowBtn").click(function(){landing_connection($(this))})}function bindTopKreatorHoverFollowBtn(){$(".jsLandingFollowBtn").mouseenter(function(){$(this).text($(this).attr("data-hover"))}).mouseleave(function(){$(this).text($(this).attr("data-default"))})}function bindTopicDetailThreadNext(){$("#trigger-hot-topic-thread").length>0&&(window.addEventListener("resize",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("scroll",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("touch",fetch_more_topic_detail_thread,{passive:!0}),window.addEventListener("click",fetch_more_topic_detail_thread,{passive:!0}))}function removeTopicDetailThreadAutoload(){window.removeEventListener("resize",fetch_more_topic_detail_thread),window.removeEventListener("scroll",fetch_more_topic_detail_thread),window.removeEventListener("touch",fetch_more_topic_detail_thread),window.removeEventListener("click",fetch_more_topic_detail_thread),$("#trigger-hot-topic-thread").hide()}function fetch_more_topic_detail_thread(){var e=$("#trigger-hot-topic-thread");if(!topicDetailThreadLoading&&isElementInViewport(e)){topicDetailThreadLoading=!0;var t=e.attr("data-cursor"),a=e.attr("data-topic-url");$.ajax({url:KASKUS_URL+"/threadshowcase/show_more/"+a,type:"POST",data:{cursor:t},xhrFields:{withCredentials:!0},success:function(t){"object"!=typeof t&&(t=$.parseJSON(t));var a=t.threadList;0==t.error&&0!=a.length||(topicDetailThreadLoading=!1,removeTopicDetailThreadAutoload());var s=$(".hot-topic-base").html(),o="",i="";for(var r in a)iconColor="subscribe"==a[r].subcriptionState?" C(c-normal)":" C(#f8c31c)",a[r].metaImages&&(i='<div class="W(90px) Fx(flexZero) Mstart(10px) H(90px)">',i+='<a href="/thread/'+a[r].threadId+"?ref=topic-"+a[r].topicUrl+'&med=thread_list" onclick="'+a[r].threadUrlTracking+'">',i+='<img alt=" '+a[r].threadTitleSlug+'" data-src="'+a[r].metaImages+'" class="mls-img Bdrs(5px) Bdrsbstart(0) oFitCover W(100%) H(100%)">',i+="</a></div>"),o+=s.replace(/{{postUserId}}/g,a[r].postUserId).replace(/{{postUsername}}/g,a[r].postUsername).replace(/{{threadId}}/g,a[r].threadId).replace(/{{subcriptionState}}/g,a[r].subcriptionState).replace(/{{forumId}}/g,a[r].forumId).replace(/{{threadTitle}}/g,a[r].threadTitle).replace(/{{threadUrlTracking}}/g,a[r].threadUrlTracking).replace(/{{userId}}/g,a[r].userId).replace(/{{langSubscription}}/g,a[r].langSubscription).replace(/{{threadTitleSlug}}/g,a[r].threadTitleSlug).replace(/{{langFirstNewPostButton}}/g,a[r].langFirstNewPostButton).replace(/{{threadLastPostId}}/g,a[r].threadLastPostId).replace(/{{langLastPostButton}}/g,a[r].langLastPostButton).replace(/{{activeUpVoteState}}/g,a[r].activeUpVoteState).replace(/{{firstPostId}}/g,a[r].firstPostId).replace(/{{vote}}/g,a[r].vote).replace(/{{activeDownVoteState}}/g,a[r].activeDownVoteState).replace(/{{threadViewCount}}/g,a[r].threadViewCount).replace(/{{threadReplyCount}}/g,a[r].threadReplyCount).replace(/{{fbSharedUrl}}/g,a[r].fbSharedUrl).replace(/{{fbDataUrl}}/g,a[r].fbDataUrl).replace(/{{twitterSharedUrl}}/g,a[r].twitterSharedUrl).replace(/{{forumName}}/g,a[r].forumName).replace(/{{topicNameEncoded}}/g,encodeURIComponent(a[r].topicName)).replace(/{{forumParentId}}/g,a[r].forumParentId).replace(/{{forumParentName}}/g,a[r].forumParentName).replace(/{{channelId}}/g,a[r].channelId).replace(/{{channelName}}/g,a[r].channelName).replace(/{{whatsappSharedUrl}}/g,a[r].whatsappSharedUrl).replace(/{{fbMessengerSharedUrl}}/g,a[r].fbMessengerSharedUrl).replace(/{{shortThreadUrl}}/g,a[r].shortThreadUrl).replace(/{{iconColor}}/g,iconColor).replace(/{{topicName}}/g,a[r].topicName).replace(/{{topicId}}/g,a[r].topicId).replace(/{{upArrowColor}}/g,a[r].upArrowColor).replace(/{{downArrowColor}}/g,a[r].downArrowColor).replace(/{{metaImages}}/g,i).replace(/{{topicUrl}}/g,a[r].topicUrl).replace(/{{showGotoFirstNewPost}}/g,a[r].showGotoFirstNewPost).replace(/{{showGotoLastPost}}/g,a[r].showGotoLastPost);$("#threadlist_visualita .hot-topic-base").before(o),e.attr("data-cursor",t.nextCursor),topicDetailThreadLoading=!1,bindSubscribeButton(),bindOpenWhoPosted(),a.length>0&&(_gaq&&_gaq.push(["_trackEvent","topic detail","load more",a[r].topicName.toLowerCase()]),dataLayer&&dataLayer.push({event:"trackEvent","eventDetails.category":"topic detail","eventDetails.action":"load more","eventDetails.label":a[r].topicName.toLowerCase()})),$(".mls-img").kslzy(300)},error:function(){topicDetailThreadLoading=!1,removeTopicDetailThreadAutoload()}})}}function createHorizontalShareMenu(e){var t=e.find(".jsShareData");if("false"==t.attr("data-created")){var a=t.attr("data-fb-href"),s=t.attr("data-fb-url"),o=t.attr("data-twitter-href"),i=t.attr("data-threadid"),r=t.attr("data-forum-id"),n=decodeURIComponentSafe(t.attr("data-title")).replace("&#92;",""),l=t.attr("data-wa-href"),c=t.attr("data-fb-msg-href"),d=t.attr("data-short-thread-url");if("hot-topic-detail"==t.attr("data-type"))var u="Fz(15px)",p={topicName:t.attr("data-topic-name"),topicId:t.attr("data-topicid")},m="topic detail";else u="Fz(18px)",p={},m=r+" "+n;var h='<a href="'+a+'" data-url="'+s+'" data-threadid="'+i+'" onclick="threadlist_facebook_share(\''+s+"', '"+i+"');"+build_ga_custom_track_share_thread(m,"share thread","facebook",t,p)+';return false;" class="C(c-facebook) C(c-facebook-hover):h Mend(15px) '+u+'" ><i class="fab fa-facebook-f"></i></a><a target="_blank" href="'+c+'" data-threadid="'+i+'" onclick="threadlist_share_count(\''+i+"', 'facebook-messenger');"+build_ga_custom_track_share_thread(m,"share thread","facebook-messenger",t,p)+'" class="C(c-facebook-messenger) C(c-facebook-messenger-hover):h Mx(15px) '+u+'"><i class="fab fa-facebook-messenger"></i></a><a target="_blank" href="'+l+'" data-threadid="'+i+'" onclick="threadlist_share_count(\''+i+"', 'whatsapp');"+build_ga_custom_track_share_thread(m,"share thread","whatsapp",t,p)+'" class="C(c-whatsapp) C(c-whatsapp-hover):h Mx(15px) '+u+'"><i class="fab fa-whatsapp"></i></a><a target="_blank" href="'+o+'" data-threadid="'+i+'" onclick="threadlist_share_count(\''+i+"', 'twitter');"+build_ga_custom_track_share_thread(m,"share thread","twitter",t,p)+'" class="C(c-twitter) C(c-twitter-hover):h Mx(15px) '+u+'"> <i class="fab fa-twitter"></i></a><input class="shared_url'+i+'" type="hidden" value="'+d+'"><a href="javascript:void(0);" onclick="shareUrl(\''+i+"');"+build_ga_custom_track_share_thread(m,"share thread","link",t,p)+'" class="copy_button'+i+" C(c-primary) C(c-tertiary):h Mx(15px) "+u+'"><i class="far fa-link"></i></a>';t.attr("data-created","true"),e.find(".shareBar-list").append(h)}}function shareUrl(e){new ClipboardJS(".copy_button"+e,{text:function(){return document.querySelector(".shared_url"+e).value}}),showBottomToast("Link Tersalin",2e3)}$("#threadlist_visualita, #hotthread_visualita").on("click",".vote-thread",function(e){var t=$(this);let a=t.data("postid"),s=(t.data("userid"),t.data("postuserid"),t.data("status-vote")),o=$("#securitytoken").val();return $.ajax({url:KASKUS_URL+"/give_vote/"+a,type:"POST",dataType:"json",data:{status:s,securitytoken:o},xhrFields:{withCredentials:!0},success:function(e){$("#securitytoken").val(e.securitytoken),1==e.result?(1==s?toggleUpVote(t,e):toggleDownVote(t,e),$("#total-vote-"+a).text(e.total_vote),showBottomToast(e.message,2e3)):showBottomToast(e.message_return,2e3)},error:function(e){}}),!1});var config,messaging="",firebaseInitStatus=!1;function registerServiceWorker(){navigator.serviceWorker.register(KASKUS_URL+"/firebase-messaging-sw.js").then(function(e){messaging.useServiceWorker(e),"granted"==Notification.permission&&getRegistrationToken()}).catch(function(e){console.error("Service Worker registration error : ",e)})}function getRegistrationToken(){messaging.getToken().then(function(e){e?(sendTokenToServer(e),e!=getCookie("fcm_token")&&subscribeTopic(e)):setTokenSentToServer(!1)}).catch(function(e){console.log("An error occurred while retrieving token. ",e)})}function subscribeTopic(e){$.ajax({url:KASKUS_URL+"/misc/generateSecurityToken",type:"GET",xhrFields:{withCredentials:!0},success:function(t){return"object"!=typeof t&&(t=$.parseJSON(t)),$.ajax({url:KASKUS_URL+"/user/subscribeDefaultTopic",type:"POST",data:{fcm_token:e,securitytoken:t.securitytoken},xhrFields:{withCredentials:!0},success:function(e){return"object"!=typeof e&&(e=$.parseJSON(e)),e},error:function(e){}}),t},error:function(e){}})}function requestPerm(){Notification.requestPermission().then(function(e){$(".request_fcm_section").addClass("D(n)")}).catch(function(e){console.log("Unable to get permission to notify.",e)})}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){for(var o=a[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function sendTokenToServer(e){isTokenSentToServer()||setTokenSentToServer(!0)}function isTokenSentToServer(){return"1"===window.localStorage.getItem("sentToServer")}function setTokenSentToServer(e){window.localStorage.setItem("sentToServer",e?"1":"0")}function show_request_fcm_popup(){"Notification"in window&&"default"===Notification.permission&&1==firebaseInitStatus&&$(".request_fcm_section").removeClass("D(n)")}function bindRequestFcm(){$(".request_fcm").unbind("click").click(function(){requestPerm()})}$(document).ready(function(){config={apiKey:WEB_PUSH_API_KEY,authDomain:WEB_PUSH_AUTH_DOMAIN,databaseURL:WEB_PUSH_DATABASE_URL,projectId:WEB_PUSH_PROJECT_ID,storageBucket:WEB_PUSH_STORAGE_BUCKET,messagingSenderId:WEB_PUSH_MESSAGING_SENDER_ID,appId:WEB_PUSH_APP_ID};try{firebase.initializeApp(config),(messaging=firebase.messaging()).usePublicVapidKey(WEB_PUSH_CERTIFICATE),messaging.onMessage(function(e){let t=e.data.title,a={body:e.data.body,icon:e.data.icon,image:e.data.image,badge:PUSH_NOTIFICATION_BADGE,tag:e.data.tag,renotify:!0,data:{click_action:e.data.url}};navigator.serviceWorker.ready.then(function(e){return e.showNotification(t,a)})}),messaging.onTokenRefresh(function(){messaging.getToken().then(e=>{setTokenSentToServer(!1),sendTokenToServer(e),getRegistrationToken()}).catch(e=>{console.log("Unable to retrieve refreshed token ",e)})}),bindRequestFcm(),registerServiceWorker(),firebaseInitStatus=!0}catch(e){}}),"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(function(e){e.addEventListener("change",function(){"granted"==e.state&&getRegistrationToken()})});var catLoaded,retryFetch=!0;function threadlist_facebook_share(e,t){return FB.ui({method:"share",href:e},function(a){a&&!a.error_code&&(threadlist_share_count(t,"facebook"),_gaq.push(["_trackSocial","facebook","send",e]),customGtm.clickEventToAnalytics("facebook","send",e))}),!1}function threadlist_share_count(e,t){$.ajax({url:KASKUS_URL+"/misc/update_share_count",type:"POST",data:{share_type:t,thread_id:e},xhrFields:{withCredentials:!0},success:function(e){},error:function(e){}})}function printDiv(e){window.frames.print_frame.document.body.innerHTML=document.getElementById(e).innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}function notice(e,t){void 0===t&&(t=3e3),document.notice_tid&&clearTimeout(document.notice_tid),$("#notice_span").html(e),$("#floating_notice").show(),document.notice_tid=setTimeout(function(){$("#floating_notice").fadeOut()},t)}function printContent(e){var t=document.body.innerHTML,a=document.getElementById(e).innerHTML;document.body.innerHTML=a,window.print(),document.body.innerHTML=t}function show_signin_popup(){$.ajax({url:"/user/login/",success:function(e){$("#jsModalSignin .modal-body").html(e),$("#username").focus()}})}function show_signup_popup(){$.ajax({url:"/register/index/",success:function(e){$("#jsModalSignin .modal-body").html(e),$("#signup_email").focus()}})}var local_search_history_date,local_search_history,local_top_keyword_date,local_top_keyword,last_search_history,last_top_keyword,ten_minutes=600,one_second=1,indexSelected=-1,last_process_time=0;function get_search_dropdown(){var e=Date.now()/1e3;parseFloat(last_process_time)+one_second>e||(last_process_time=e,get_top_keyword(),get_search_history(),show_search_drop_down())}function show_search_drop_down(){var e=get_term_local_data("top_keyword"),t=get_cookie_term_local_data("search_history_"+user_id);show_template_search(e,"top_search_choice","#top_search","last_top_keyword"),show_template_search(t,"history_search_choice","#history_search","last_search_history"),$(".jsSearchResult li").hover(function(e){$(".jsSearchResult").find("li.is-selected").removeClass("is-selected"),$(this).addClass("is-selected"),indexSelected=$(".jsSearchResult li").index($(this))}),$(".jsSearchResult li").mousedown(function(e){if(e.preventDefault(),$(this).find("a").hasClass("categorySearch")){var t=$(this).find("a").attr("data-term");void 0!==$(this).find("a").attr("data-forum-id")&&(t+=" fid:"+$(this).find("a").attr("data-forum-id")),$("#search").val(t)}else $("#search").val($(this).text());$("#btn-search").click()})}function show_template_search(e,t,a,s){var o="";for(var i in e)o+='<li><a href="javascript:void(0);" class="D(b) P(5px) C(c-normal) Fz(12px) Td(n):h Bgc(c-semiwhite):h resultTerm">'+e[i]+"</a></li>";o!=window[s]&&(document.getElementById(t).innerHTML=o,window[s]=o,indexSelected=-1),""==o?$(a).hide():$(a).show()}function get_top_keyword(){var e=null;e=localStorage?parseFloat(localStorage.getItem("top_keyword_date")):local_top_keyword_date;var t=Date.now()/1e3;(isNaN(e)||e+ten_minutes<t)&&$.ajax({url:"/misc/get_top_keyword",success:function(e){localStorage?(localStorage.setItem("top_keyword",e),localStorage.setItem("top_keyword_date",Date.now()/1e3)):(local_top_keyword=JSON.parse(e),local_top_keyword_date=Date.now()/1e3),show_search_drop_down()},error:function(){show_search_drop_down()}})}function get_search_history(){var e=parseFloat($.cookie("search_history_date_"+user_id)),t=Date.now()/1e3;(isNaN(e)||e+ten_minutes<t)&&$.ajax({url:"/misc/get_search_history",success:function(e){var a="";a="undefined"!=typeof KASKUS_COOKIE_DOMAIN?KASKUS_COOKIE_DOMAIN:COOKIE_DOMAIN,t=Date.now()/1e3,$.cookie("search_history_"+user_id,e,{expires:t+ten_minutes,path:"/",domain:a,secure:!1}),$.cookie("search_history_date_"+user_id,t,{expires:t+ten_minutes,path:"/",domain:a,secure:!1}),show_search_drop_down()},error:function(){show_search_drop_down()}})}function get_term_local_data(e){var t={};if(localStorage){if(t=localStorage.getItem(e))try{t=JSON.parse(t)}catch(e){t={}}}else t=window["local_"+e];return t||{}}function get_cookie_term_local_data(e){var t=$.cookie(e);try{t=JSON.parse(t)}catch(e){t={}}return t}function remove_search_history(){$.ajax({url:"/misc/remove_search_history",success:function(){var e="";e="undefined"!=typeof KASKUS_COOKIE_DOMAIN?KASKUS_COOKIE_DOMAIN:COOKIE_DOMAIN,date_now=Date.now()/1e3,$.cookie("search_history_"+user_id,"[]",{expires:date_now+ten_minutes,path:"/",domain:e,secure:!1}),$.cookie("search_history_date_"+user_id,date_now,{expires:date_now+ten_minutes,path:"/",domain:e,secure:!1}),show_search_drop_down()}})}function fetchCategories(){var e=KASKUS_URL+"/misc/get_categories/"+catVersion;$.retrieveJSON(e,{},function(t){var a;retryFetch&&t.version!=catVersion?($.clearJSON(e,{}),retryFetch=!1,fetchCategories()):($("#cat-forum").replaceWith(t.forum),$("#cat-jb").replaceWith(t.jb),catLoaded=!0,$("#filter-cat-forum").bind("keydown keyup",function(e){var t=$("#update-tag ul.sidebar-category").find("li");if(40===e.which)"keydown"===e.type&&(a?(a.removeClass("selected"),next=a.next(),next.length>0?a=next.addClass("selected"):a.addClass("selected")):a=t.eq(0).addClass("selected")),$(".scrolling-con-update ul li.selected").position().top-140;else if(38===e.which)"keydown"===e.type&&(a?(a.removeClass("selected"),next=a.prev(),next.length>0?a=next.addClass("selected"):a.addClass("selected")):a=t.last().addClass("selected"));else if(13===e.which)$(".scrolling-con-update").find("li.selected").length>0&&(window.location=$(".scrolling-con-update li.selected .categories-title").children("a").attr("href"));else if("keyup"===e.type){$("#update-tag ul.sidebar-category").find("li").removeClass("selected"),searchField=$("#filter-cat-forum").val(),$(".flyout__search i").removeClass("fa-search"),$(".flyout__search i").addClass("fa-times"),$("#jsCategoryTabForum .flyout__search i.fa-times").click(function(e){$(this).removeClass("fa-times"),$(this).addClass("fa-search"),$("#filter-cat-forum").val(""),$("#update-tag").html(""),$("#update-tag").addClass("hide")});try{if(myExp=new RegExp(searchField,"i"),""===searchField)return $("#update-tag").addClass("hide"),$("#jsCategoryTabForum .flyout__search i").removeClass("fa-times"),$("#jsCategoryTabForum .flyout__search i").removeClass("fa-search"),!1;$.retrieveJSON(urlCatJSON,{usergroupid:userGroupIdJSON},function(e){$("#update-tag").removeClass("hide"),output='<ul class="flyout__result__list"><div class="flyout__scroll flyout__scroll--up"><i class="fa fa-chevron-up"></i></div>',$.each(e,function(e,t){-1!=t.forum_name.search(myExp)&&(output+='<li class="flyout__result__item">',output+='<a class="flyout__result__link" href="'+decodeURIComponent(t.forum_url)+'">',output+='<img src="'+decodeURIComponent(t.forum_icon)+'" alt="" width="20" height="20" ><span>'+decodeURIComponent(t.forum_name),output+="</span></a>",output+="</li>")}),output+='<div class="flyout__scroll flyout__scroll--down"><i class="fa fa-chevron-down"></i></div></ul>',$("#update-tag").html(output)},864e5),a="",checkScroller(".flyout__result__list")}catch(e){}}}),$("#filter-cat-jb").bind("keydown keyup",function(e){var t=$("#update-tag ul.sidebar-category").find("li");if(40===e.which)"keydown"===e.type&&(a?(a.removeClass("selected"),next=a.next(),next.length>0?a=next.addClass("selected"):a.addClass("selected")):a=t.eq(0).addClass("selected")),$(".scrolling-con-update ul li.selected").position().top-140;else if(38===e.which)"keydown"===e.type&&(a?(a.removeClass("selected"),next=a.prev(),next.length>0?a=next.addClass("selected"):a.addClass("selected")):a=t.last().addClass("selected"));else if(13===e.which)$(".scrolling-con-update").find("li.selected").length>0&&(window.location=$(".scrolling-con-update li.selected .categories-title").children("a").attr("href"));else if("keyup"===e.type){$("#update-tag ul.sidebar-category").find("li").removeClass("selected"),searchField=$("#filter-cat-jb").val(),$(".flyout__search i").removeClass("fa-search"),$(".flyout__search i").addClass("fa-times"),$("#jsCategoryTabJB .flyout__search i.fa-times").click(function(){$(this).removeClass("fa-times "),$(this).addClass("fa-search "),$("#filter-cat-jb").val(""),$("#update-tag").html(""),$("#update-tag").addClass("hide")});try{if(myExp=new RegExp(searchField,"i"),""===searchField)return $("#update-tag").addClass("hide"),$("#jsCategoryTabJB .flyout__search i").removeClass("fa-times"),$("#jsCategoryTabJB .flyout__search i").addClass("fa-search"),!1;$.retrieveJSON(urlCatJSON,{usergroupid:userGroupIdJSON},function(e){$("#update-tag").removeClass("hide"),output='<ul class="flyout__result__list"><div class="flyout__scroll flyout__scroll--up"><i class="fa fa-chevron-up"></i></div>',$.each(e,function(e,t){-1!=t.forum_name.search(myExp)&&(output+='<li class="flyout__result__item">',output+='<a class="flyout__result__link" href="'+decodeURIComponent(t.forum_url)+'">',output+='<img src="'+decodeURIComponent(t.forum_icon)+'" alt="" width="20" height="20" ><span>'+decodeURIComponent(t.forum_name),output+="</span></a>",output+="</li>")}),output+='<div class="flyout__scroll flyout__scroll--down"><i class="fa fa-chevron-down"></i></div></ul>',$("#update-tag").html(output)},864e5),a="",checkScroller(".flyout__result__list")}catch(e){}}}),$(".flyout__tab__pane > .flyout__category__list").length>0&&$(".flyout__tab__pane > .flyout__category__list")[0].scrollHeight>$(".flyout__tab__pane > .flyout__category__list").height()&&$(".flyout__tab__pane > .flyout__category__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),$(".flyout__category__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__result__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__category-children__list").bind("scroll",function(){checkScroller($(this))}))},36e5)}function gaTrackOb(e){var t=e.attr("data-type"),a=e.attr("data-category"),s=e.attr("data-state"),o=e.attr("data-forumid"),i=e.attr("data-forum-name"),r=e.attr("data-forum-parentid"),n=e.attr("data-forum-parent-name"),l=e.attr("data-channelid"),c=e.attr("data-channel-name"),d="-1";if("subscribe"==s&&(d="1"),"thread"==t){var u=e.attr("data-label"),p=e.attr("data-id"),m=e.attr("data-userid"),h=e.attr("data-title"),f=e.attr("data-author");_gaq.push(["_trackEvent",a,s,u]),obj={event:"trackEvent","eventDetails.category":a,"eventDetails.action":s,"eventDetails.label":u,threadSubscriber:d,userID:m,threadId:p,threadTitle:h,author:f,forumId:o,forumName:i,forumParentId:r,forumParentName:n,channelId:l,channelName:c},e.attr("data-topic-name")&&(obj.topicName=e.attr("data-topic-name"),obj.topicId=e.attr("data-topicid"),obj["eventDetails.label"]="thread-"+obj["eventDetails.label"]),dataLayer.push(obj)}else if("forum"==t){u="forum-"+o;_gaq.push(["_trackEvent",a,s,u]),dataLayer.push({event:"trackEvent","eventDetails.category":a,"eventDetails.action":s,"eventDetails.label":u,forumSubscriber:d,userID:user_id,forumId:o,forumName:i,forumParentId:r,forumParentName:n,channelId:l,channelName:c})}}var subscribeUnsubscribeOnProgress=!1,subscribeUnsubscribeEls=[];function subscribeUnsubscribe(e){if(subscribeUnsubscribeEls.indexOf(e.attr("id"))<0&&subscribeUnsubscribeEls.push(e.attr("id")),!subscribeUnsubscribeOnProgress){subscribeUnsubscribeOnProgress=!0;var t=e.attr("data-state"),a=e.attr("data-type"),s=e.attr("data-id"),o="/myforum/"+t+"/"+a+"/"+s,i=$("#securitytoken").val();e.data("name");i?$.ajax({type:"POST",url:o,data:{securitytoken:i},xhrFields:{withCredentials:!0},success:function(a){if("object"!=typeof a&&(a=$.parseJSON(a)),"TRUE"==a.flag)if(gaTrackOb(e),"subscribe"==t){if($("#securitytoken").val(a.securitytoken),e.attr("data-state","unsubscribe"),"icon"==e.attr("data-style"))(s=e.find("i:first")).addClass("C(#f8c31c)"),s.removeClass("C(c-grey) D(n) listThreadItem:h_D(b) C(#f8c31c):h Cur(p):h is-animate");else if("icon-category"==e.attr("data-style")){(s=e.find("i:first")).addClass("C(#f8c31c) C(c-grey):h"),s.removeClass("C(c-grey) D(n) listForumItem:h_D(b) C(#f8c31c):h")}else if("icon-thread"==e.attr("data-style")){e.attr("title",e.attr("title-unsubscribe")),(s=e.find("i:first")).removeClass("C(c-tertiary)"),s.addClass("C(c-yellow-1)"),document.querySelector(".jsSubscribeThreadIcon")._tippy.setContent(e.attr("title-unsubscribe")),showBottomToast("Subscribe Thread Berhasil",1500)}else if("icon-thread-visualita"==e.attr("data-style")){e.find("i").removeClass("C(c-normal)").addClass("C(#f8c31c)"),e.find("span:first").text("Unsubscribe"),showBottomToast("Subscribe Thread Berhasil",1500)}else{e.find("span:first").text("Unsubscribe")}if("forum"==e.data("type"))if("button-forum"==e.attr("data-style"))(s=e.find("i:first")).removeClass("C(c-gray-2)"),s.addClass("C(c-yellow-1)"),$(e).find("i")[0]._tippy.setContent(window.KASKUS_lang.unsubscribe_forum),s.attr("data-tippy-content",window.KASKUS_lang.unsubscribe_forum),showBottomToast(window.KASKUS_lang.subscribe_forum_success,1500);else if("menu-search"==e.attr("data-style")){(s=e.find("i:first")).removeClass("C(c-grey) D(n) C(#f8c31c):h"),s.addClass("C(c-grey):h C(#f8c31c)")}else{(s=e.find("i:first")).removeClass("C(c-grey) D(n)"),s.addClass("C(#f8c31c)")}}else{if(e.attr("data-state","subscribe"),"icon"==e.attr("data-style"))(s=e.find("i:first")).removeClass("C(#f8c31c)"),s.addClass("C(c-grey) D(n) listThreadItem:h_D(b) C(#f8c31c):h Cur(p):h is-animate");else if("icon-category"==e.attr("data-style")){(s=e.find("i:first")).removeClass("C(#f8c31c)"),s.addClass("C(c-grey) D(n) listForumItem:h_D(b) C(#f8c31c):h Cur(p):h")}else if("icon-thread"==e.attr("data-style")){e.attr("title",e.attr("title-subscribe")),(s=e.find("i:first")).removeClass("C(c-yellow-1)"),s.addClass("C(c-tertiary)"),document.querySelector(".jsSubscribeThreadIcon")._tippy.setContent(e.attr("title-subscribe")),showBottomToast("Unsubscribe Thread Berhasil",1500)}else if("icon-thread-visualita"==e.attr("data-style")){e.find("i").addClass("C(c-normal)").removeClass("C(#f8c31c)"),e.find("span:first").text("Subscribe"),showBottomToast("Unsubscribe Thread Berhasil",1500)}else{e.find("span:first").text("Subscribe")}if("forum"==e.data("type"))if("button-forum"==e.attr("data-style"))(s=e.find("i:first")).removeClass("C(c-yellow-1)"),s.addClass("C(c-gray-2)"),$(e).find("i")[0]._tippy.setContent(window.KASKUS_lang.subscribe_forum),s.attr("data-tippy-content",window.KASKUS_lang.subscribe_forum),showBottomToast(window.KASKUS_lang.unsubscribe_forum_success,1500);else if("menu-search"==e.attr("data-style")){(s=e.find("i:first")).removeClass("C(c-grey):h C(#f8c31c)"),s.addClass("C(c-grey) D(n) C(#f8c31c):h")}else{var s;(s=e.find("i:first")).removeClass("C(#f8c31c)"),s.addClass("C(c-grey) D(n)")}}else"FALSE"==a.flag?($("#securitytoken").val(a.securitytoken),showBottomToast(a.message_return,1500)):window.location="/user/login";var o=subscribeUnsubscribeEls.indexOf(e.attr("id"));o>-1&&subscribeUnsubscribeEls.splice(o,1),subscribeUnsubscribeOnProgress=!1,subscribeUnsubscribeEls.length>0&&subscribeUnsubscribe($("#"+subscribeUnsubscribeEls[0]))},error:function(t){var a=subscribeUnsubscribeEls.indexOf(e.attr("id"));a>-1&&subscribeUnsubscribeEls.splice(a,1),subscribeUnsubscribeOnProgress=!1,subscribeUnsubscribeEls.length>0&&subscribeUnsubscribe($("#"+subscribeUnsubscribeEls[0]))}}):window.location.href=o}}function updateForumCategories(e,t,a){var s=e.parent().find("a"),o=e.parent(),i=$("<div/>",{class:"Pos(r) listForumItem subscribed Bgc(c-lightgrey-2):h My(3px)"}).appendTo(t);$(s).appendTo(i),$(o).remove(),i.attr("data-name",a),0==$("#subscribed_forum").find(".subscribed").length&&($("#subscribed_forum > div").remove(),$("#subscribed_forum").hide()),sortCategories($(t).find(".subscribed"),t)}function sortCategories(e,t){e.sort(function(e,t){var a=e.getAttribute("data-name"),s=t.getAttribute("data-name");return a>s?1:a<s?-1:0}),e.detach().appendTo(t)}$(".jsFollowingButton").hover(function(){$(this).find("span").text($(this).data("hover"))},function(){$(this).find("span").text($(this).data("default"))}),$(".jsButtonFollowingHeader").hover(function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-times fa-user-minus")},function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-times fa-user-minus")}),$(".jsButtonBlockedHeader").hover(function(){$(this).find("span").text($(this).data("hover")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")},function(){$(this).find("span").text($(this).data("default")),$(this).find("i").toggleClass("fa-user-lock fa-unlock")}),$(".flyout__trigger").on("mouseenter",function(){$(".flyout__anchor").show(),$(this).addClass("is-active"),toggleOverlay(),$(".flyout__tab__pane > .flyout__category__list").length>0&&$(".flyout__tab__pane > .flyout__category__list")[0].scrollHeight>$(".flyout__tab__pane > .flyout__category__list").height()&&$(".flyout__tab__pane > .flyout__category__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),$(".flyout__subscribed__list").length>0&&$(".flyout__subscribed__list")[0].scrollHeight>$(".flyout__subscribed__list").height()&&$("flyout__subscribed__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).on("mouseleave",function(){$(".flyout__anchor").hide(),$(this).removeClass("is-active"),toggleOverlay()}),$(".flyout__content").mouseenter(function(){$(this).closest(".flyout__anchor").show()}).mouseleave(function(){$(this).closest(".flyout__anchor").hide()}),$(".flyout__category__item--has-children , .flyout__category-children__item--has-children").mouseover(function(){$(this).closest(".flyout__content").addClass("flyout__content--triggered"),$(this).find(".flyout__category-children__list").first().length>0&&$(this).find(".flyout__category-children__list").first()[0].scrollHeight>$(this).find(".flyout__category-children__list").first().height()&&$(this).find(".flyout__category-children__list").first().siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).mouseout(function(){$(this).closest(".flyout__content").removeClass("flyout__content--triggered")}),$(".flyout__subscribed__anchor").mouseover(function(){$(this).closest(".flyout__content").addClass("flyout__content--triggered"),$(this).closest(".flyout__anchor").addClass("flyout__anchor--subscribed"),$(this).find(".flyout__subscribed__list").length>0&&$(this).find(".flyout__subscribed__list")[0].scrollHeight>$(this).find(".flyout__subscribed__list").height()&&$(this).find(".flyout__subscribed__list").siblings(".flyout__scroll--down").addClass("flyout__scroll--on")}).mouseout(function(){$(this).closest(".flyout__content").removeClass("flyout__content--triggered"),$(this).closest(".flyout__anchor").removeClass("flyout__anchor--subscribed")}),$(".flyout__subscribed__panel").mouseover(function(){$(this).siblings(".flyout__subscribed__anchor__link").addClass("flyout__subscribed__anchor__link--hovered")}).mouseout(function(){$(this).siblings(".flyout__subscribed__anchor__link").removeClass("flyout__subscribed__anchor__link--hovered")}),$(".flyout__category__panel").mouseover(function(){$(this).siblings(".flyout__category__link").addClass("flyout__category__link--hovered"),$(this).siblings(".flyout__category-children__link").addClass("flyout__category-children__link--hovered")}).mouseout(function(){$(this).siblings(".flyout__category__link").removeClass("flyout__category__link--hovered"),$(this).siblings(".flyout__category-children__link").removeClass("flyout__category-children__link--hovered")});var positionOverlayHeader,scrolling=!1;function scrollContent(e,t){var a="up"===e?"-=5px":"+=5px";$(t).animate({scrollTop:a},1,function(){scrolling&&scrollContent(e,t)})}function scrollTooltipReputation(){var e=$(window).height(),t=$(window).scrollTop(),a=$(".firstPostBot").offset();$(".firstPostBot").length>0&&t>a.top-e+64&&$(".jsTooltipReputation").addClass("is-visible")}$(".flyout__scroll--down").bind("mouseover",function(e){scrolling=!0,scrollContent("down",$(this).siblings(".flyout__category-children__list")),scrollContent("down",$(this).siblings(".flyout__category__list")),scrollContent("down",$(this).siblings(".flyout__result__list")),scrollContent("down",$(this).siblings(".flyout__subscribed__list"))}).bind("mouseout",function(e){scrolling=!1}),$(".flyout__scroll--up").bind("mouseover",function(e){scrolling=!0,scrollContent("up",$(this).siblings(".flyout__category-children__list")),scrollContent("up",$(this).siblings(".flyout__category__list")),scrollContent("up",$(this).siblings(".flyout__result__list")),scrollContent("up",$(this).siblings(".flyout__subscribed__list"))}).bind("mouseout",function(e){scrolling=!1}),$(window).bind("scroll",function(){$(".jsLeaderboardSkyscrapper").length&&scrollSkyscrapper(),scrollHeaderSticky(),scrollTooltipReputation(),$(".postItemFirst").length>0&&stickyShare()});var onTop=!0;function scrollHeaderSticky(){var e=$(".jsNavHeader").offset().top+$(".jsNavHeader").height();$(window).scrollTop()>e?($(".jsSearchSticky").removeClass("is-clicked"),$(".jsSearchOutterWrapper").hide(),$(".jsSearchOutterWrapper").appendTo(".jsSearchSticky"),$(".jsStickyHeader").css("transform","translateY(0px)"),positionOverlayHeader=0,$(".jsFlyoutAnchor").appendTo(".jsFlyoutTriggerSticky"),$(".jsUserDropdownMenu").appendTo(".jsUserAnchorSticky"),$(".jsNotificationDropdownMenu").appendTo(".jsNotificationAnchorSticky"),$(".jsSearchFormInput").is(":focus")&&$(".jsSearchFormInput").blur(),1==onTop&&$(".jsPodcastWidgetHeaderIframe").hasClass("is-sticky")&&(setTimeout(function(){$(".jsPodcastWidgetHeaderIframe").toggleClass("is-scrolled Pos(f) Pos(a) Start(0) T(0) T(50px)")},300),onTop=!1),$(".jsSearchFormInput").blur()):($(".jsSearchSticky, .jsSearchTrigger").removeClass("is-clicked"),$(".jsSearchOutterWrapper").appendTo(".jsSearchTrigger"),$(".jsStickyHeader").css("transform","translateY(-200px)"),$(".jsFlyoutAnchor").appendTo(".jsFlyoutTrigger"),$(".jsUserDropdownMenu").appendTo(".jsUserAnchor"),0==onTop&&$(".jsPodcastWidgetHeaderIframe").hasClass("is-sticky")&&($(".jsPodcastWidgetHeaderIframe").toggleClass("is-scrolled Pos(f) Pos(a) Start(0) T(0) T(50px)"),onTop=!0),$(".jsNotificationDropdownMenu").appendTo(".jsNotificationAnchor"))}function scrollSkyscrapper(){var e=$(".jsLeaderboardSkyscrapper").offset().top,t=$(".jsStickyHeader").height(),a=$(".jsMainContent").outerHeight(!0),s=$(".jsLeaderboardAds").length?$(".jsLeaderboardAds").outerHeight(!0):0,o=$(".jsNoticeBoard").length?$(".jsNoticeBoard").outerHeight(!0)*$(".jsNoticeBoard").length:0,i=$(".jsBreadcrumb").length?$(".jsBreadcrumb").outerHeight(!0):0,r=t+10,n=a+($(".jsBottomLeaderboardAds").length?$(".jsBottomLeaderboardAds").outerHeight(!0):0)+s+o+i-600,l=e-t-10,c=$(".jsMainFooter").offset().top-600-r-30;$(window).scrollTop()>l?($(".jsSkyscrapperAds").css("position","fixed"),$(".jsSkyscrapperAds").css("transform","translateY("+r+"px)"),$(window).scrollTop()>c&&($(".jsSkyscrapperAds").css("position","absolute"),$(".jsSkyscrapperAds").css("transform","translateY("+n+"px)"))):($(".jsSkyscrapperAds").css("position","initial"),$(".jsSkyscrapperAds").css("transform","none"))}function checkStickySubforumSidebar(){var e,t=$(".jsMainContent").offset().top,a=$(".jsMainContent").outerHeight(),s=$(".jsSubforumFixedSidebar").outerHeight();$(window).scrollTop()>t-50?($(".jsSubforumFixedSidebar").css("top","50px"),$(window).scrollTop()>t+a-s-50&&(e=t+a-$(window).scrollTop()-s,$(".jsSubforumFixedSidebar").css("top",e+"px"))):(e=$(".jsMainContent").offset().top-$(window).scrollTop(),$(".jsSubforumFixedSidebar").css("top",e+"px"))}function checkScroller(e){e[0].scrollHeight>e.height()&&(e[0].scrollHeight-e.scrollTop()==e.outerHeight()?e.siblings(".flyout__scroll--down").removeClass("flyout__scroll--on"):0===e.scrollTop()?e.siblings(".flyout__scroll--up").removeClass("flyout__scroll--on"):(e.siblings(".flyout__scroll--down").addClass("flyout__scroll--on"),e.siblings(".flyout__scroll--up").addClass("flyout__scroll--on")))}function toggleOverlay(){"block"!=$(".jsNavHeaderOverlay").css("display")?($(".jsNavHeaderOverlay").show(),$(".jsNavHeaderOverlay").css("top",positionOverlayHeader+"px")):$(".jsNavHeaderOverlay").hide()}function showBottomToast(e,t){$(".jsBottomToast").addClass("is-visible"),$(".jsBottomToast").text(e),setTimeout(function(){$(".jsBottomToast").removeClass("is-visible")},t)}function bindPopoverMenu(){$("body").on("click",".jsPopoverTrigger",function(){var e=$(".jsPopoverTrigger").not(this);e.removeClass("C(c-blue)").addClass("C(c-primary)"),e.next().removeClass("is-visible"),$(this).next().hasClass("is-visible")?($(this).removeClass("C(c-blue)").addClass("C(c-primary)"),$(this).next().removeClass("is-visible")):($(this).addClass("C(c-blue)").removeClass("C(c-primary)"),$(this).next().addClass("is-visible"))})}function showReplyTools(){$(".jsReplyTools").show(),$(".jsReplyUser").removeClass("Pos(a)"),$(".jsReplyUser span").show(),$(this).removeClass("Px(40px)")}function openModal(e){$(".jsModal").removeClass("is-open");var t=$("#"+e);t.addClass("is-open"),t.find(".jsModalDialog").addClass("is-animate"),$("body").addClass("Ov(h)")}function closeModal(){$(".jsModal").removeClass("is-open is-animate"),$("body").removeClass("Ov(h)"),resetInputAvatarAndCoverValue()}function insertBBCode(e,t,a){var s=document.querySelector(a),o=$(a),i=s.selectionStart,r=s.selectionEnd,n=o.val(),l=n.substring(i,r),c=e,d=t;o.val(n.substring(0,i)+c+l+d+n.substring(r)),s.focus(),s.selectionStart=i+c.length+l.length+d.length,s.selectionEnd=i+c.length+l.length+d.length}$(".flyout__category__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__subscribed__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__result__list").bind("scroll",function(){checkScroller($(this))}),$(".flyout__category-children__list").bind("scroll",function(){checkScroller($(this))});var index,regex=/^(.+?)(\d+)$/i;if($(document).on("keyup","#search",function(){var e=$(this).val().trim();if($("#category_search").length)if(e.length>0){$("#category_search").show();for(var t=document.getElementsByClassName("searchHlTerm"),a=0;a<t.length;a++)t[a].innerText=e;var s=document.getElementsByClassName("categorySearch");for(a=0;a<s.length;a++)s[a].setAttribute("data-term",e)}else $("#category_search").hide();var o=new RegExp("("+e+")","gi");searchTerms=document.getElementsByClassName("resultTerm");for(var i=0;i<searchTerms.length;i++){var r=searchTerms[i].innerText.replace(o,'<span class="highlightedText">$1</span>');searchTerms[i].innerHTML=r}}),null===$.cookie("notices")&&$.cookie("notices",JSON.stringify([]),{expires:null,path:"/",domain:"",secure:!1}),bindNotice(),bindTrhThreadList(),bindTrhHome(),bindSetThreadDisplay(),bindHtNext(),bindSetFeedDisplay(),bindSetjsButtonSubscribe(),bindSetjsCategoryPersonalizationItem(),bindTopicDetailThreadNext(),bindThreadShowcaseNext(),$("#threadlist-loading-area").length){function tlload(){isElementInViewport($("#threadlist-loading-area"))&&0==tl_is_loading&&(data_sort=$("#tl_sort").val(),data_cursor=$("#tl_cursor").val(),data_order=$("#tl_order").val(),data_feed=$("#tl_feed").val(),data_channel=$("#tl_channel").val(),show_thread_list(data_sort,data_cursor,data_order,data_feed,data_channel),tracking_ref=$("#tl_tracking_ref").val(),data_sort_track=$("#tl_sort_track").val(),feed_track=$("#feed_track").val(),dataLayer.push({event:"trackEvent","eventDetails.category":tracking_ref,"eventDetails.action":"load more "+tl_page,"eventDetails.label":feed_track,threadListSort:data_sort_track}))}window.addEventListener("resize",tlload,{passive:!0}),window.addEventListener("scroll",tlload,{passive:!0}),window.addEventListener("touch",tlload,{passive:!0}),window.addEventListener("click",tlload,{passive:!0})}function cloneRepeaterItem(){var e=$(".jsRepeaterItem").length,t=1;$(this).closest(".jsRepeater").find(".jsRepeaterItem").first().clone().hide().appendTo(".jsRepeaterList");var a=$(this).closest(".jsRepeater").find(".jsRepeaterItem").last();a.find(".jsErrorNote").remove(),a.find('input[type="text"]').val(""),a.slideDown(200),2==e&&$(".jsRepeaterItem > div.radio").append('<button class="jsRepeaterButtonRemove"><i class="fas fa-times"></i></button>'),44==e&&$(".jsRepeaterButtonAdd").hide(),$(this).closest(".jsRepeater").find(".jsRepeaterItem").each(function(){$(this).find("input").attr("id","repeaterItem-"+t),$(this).find("input").attr("placeholder","Pilihan "+t),$(this).find("input").attr("name","options["+t+"]"),t++})}function removeRepeaterItem(){$(this).closest(".jsRepeaterItem").remove();var e=$(".jsRepeaterItem").length,t=1;$(".jsRepeaterItem").each(function(){$(this).find("input").attr("id","repeaterItem-"+t),$(this).find("input").attr("placeholder","Pilihan "+t),t++}),2==e&&$(".jsRepeaterItem").find(".jsRepeaterButtonRemove").remove(),44==e&&$(".jsRepeaterButtonAdd").show()}function stickyShare(){var e=$(window).scrollTop(),t=$(".jsThreadRating"),a=$(".postItemFirst");e<a.offset().top+a.height()&&e>t.offset().top?$(".jsShareBtn").addClass("scrolled"):$(".jsShareBtn").removeClass("scrolled")}function bindJsTippy(){tippy(".jsTippy",{theme:"translucent",arrow:!0,size:"small"})}var timeout=null;$(document).ready(function(){$(document).on("click",".jsSearchStickyBtn",function(){$(".jsSearchTrigger, .jsSearchSticky").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(".jsSearchTrigger, .jsSearchSticky").hasClass("is-clicked")&&$(".jsSearchFormInput").focus()}),$(".jsSearchTrigger, .jsSearchSticky").addClass("is-clicked"),$(".jsSearchResult").addClass("is-open"),$(".jsNavHeaderOverlay").show(),$(".jsSearchOutterWrapper").show()}),$(document).on("click",".jsRepeaterButtonRemove",removeRepeaterItem),$(document).on("click",".jsRepeaterButtonAdd",cloneRepeaterItem),2==$(".jsRepeaterItem").length&&$(".jsRepeaterItem").find(".jsRepeaterButtonRemove").remove(),$("#jsToolbarSCEditor").on("click",".createdPoll",function(){changeValueCreatedPoll(this)}),$(".jsClosePolling").on("click",function(){changeValueCreatedPoll(this)}),checkcreatedPoll(),$(".jsCloseBtn").click(function(e){$(".jsTooltipReputation").removeClass("is-visible")}),$(".jsModal").click(function(e){$(e.target).closest(".jsModalContent").length||($(".jsModal").removeClass("is-open is-animate"),$("body").removeClass("Ov(h)"),resetInputAvatarAndCoverValue())}),"function"==typeof uploadAvatar&&uploadAvatar(),"function"==typeof uploadCover&&uploadCover(),scrollHeaderSticky(),$(document).on("click",".jsNgetopTabButton",function(){var e=$(".jsNgetopTabButton").index(this);$(".jsNgetopTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(".jsNgetopTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(".jsNgetopTabContent").css("transform","translateX(-"+100*e+"%)"),$(".jsNgetopTabContent").css("height",$(".jsNgetopTabContent > div:nth-child("+(e+1)+")").height())}),$(".jsTabComponent").length&&$(".jsTabComponent").each(function(){var e=$(this).find(".jsTabButton.is-active"),t=$(this).find(".jsTabButton").index(e);$(this).find(".jsTabLine").css("width",e.outerWidth()+"px"),$(this).find(".jsTabLine").css("transform","translateX("+e.position().left+"px)"),$(this).find(".jsTabLine").show(),$(this).find(".jsTabComponentContent").css("transform","translateX(-"+100*t+"%)"),$(this).find(".jsTabComponentContent").css("height",$(".jsTabComponentContent > div:nth-child("+(t+1)+")").height())}),$(document).on("click",".jsTabButton",function(){var e=$(".jsTabButton").index(this);$(this).closest(".jsTabComponent").find(".jsTabButton").removeClass("is-active"),$(this).addClass("is-active"),$(this).closest(".jsTabComponent").find(".jsTabLine").css("width",$(this).outerWidth()+"px"),$(this).closest(".jsTabComponent").find(".jsTabLine").css("transform","translateX("+$(this).position().left+"px)"),$(this).closest(".jsTabComponent").find(".jsTabComponentContent").css("transform","translateX(-"+100*e+"%)"),$(this).closest(".jsTabComponent").find(".jsTabComponentContent").css("height",$(".jsTabComponentContent > div:nth-child("+(e+1)+")").height()),$(".jsTabButton").hasClass("cendol is-active")?($(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#50ae5e"),$(this).parents().closest(".modal-section").find(".modal-header > div").addClass("cendol"),$(".modal-header > div").hasClass("bata")?$(".modal-header > div").removeClass("bata"):$(".modal-header > div").removeClass("cendol")):$(".jsTabButton").hasClass("bata is-active")?($(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#d0021b"),$(this).parents().closest(".modal-section").find(".modal-header > div").addClass("bata")):$(this).closest(".jsTabComponent").find(".jsTabLine").css("background-color","#1998ed")}),$(document).on("click",".jsTabNav",function(){var e=$(".jsTabNav").index(this);$(this).closest(".jsTabElement").find(".jsTabNav").removeClass("is-active"),$(this).addClass("is-active"),$(this).closest(".jsTabElement").find(".jsTabContent").removeClass("is-show"),$(this).closest(".jsTabElement").find(".jsTabContent").eq(e).addClass("is-show")}),$(".all-badges").on("click",function(e){e.preventDefault(),badge()}),$(".moderate-di").on("click",function(e){e.preventDefault(),moderate()}),$("#pagination").html(""),$("#search_connection").unbind("click").on("click",function(){searchConnection()}),$("#search_connection_keyword").unbind("keydown").bind("keydown",function(e){13===e.keyCode&&searchConnection()}),$(".connection_tab").click(function(){connection_type=tab=$(this).attr("connection-type"),current_page=1,$("#search_connection_keyword").val(""),get_list_connection(connection_type)});var e=new Swiper(".jsKaskusTvSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsKaskusTvSwiper .jsWidgetButtonNext",prevEl:".jsKaskusTvSwiper .jsWidgetButtonPrev"}});e.on("reachEnd",function(){$(".jsKaskusTvSwiper").addClass("is-end")}),e.on("fromEdge",function(){$(".jsKaskusTvSwiper").removeClass("is-end")});var t=new Swiper(".jsPodcastSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsPodcastSwiper .jsWidgetButtonNext",prevEl:".jsPodcastSwiper .jsWidgetButtonPrev"}});t.on("reachEnd",function(){$(".jsPodcastSwiper").addClass("is-end")}),t.on("fromEdge",function(){$(".jsPodcastSwiper").removeClass("is-end")});new Swiper(".jsTopCommunitySwiper",{slidesPerView:"auto",navigation:{nextEl:".jsTopCommunitySwiper .jsWidgetButtonNext",prevEl:".jsTopCommunitySwiper .jsWidgetButtonPrev"}}),new Swiper(".jsTopForumSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsTopForumSwiper .jsWidgetButtonNext",prevEl:".jsTopForumSwiper .jsWidgetButtonPrev"}}),new Swiper(".jsTopKreatorSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsTopKreatorSwiper .jsWidgetButtonNext",prevEl:".jsTopKreatorSwiper .jsWidgetButtonPrev"}});var a,s=new Swiper(".jsHotTopicSwiper",{slidesPerView:"auto",navigation:{nextEl:".jsHotTopicSwiper .jsWidgetButtonNext",prevEl:".jsHotTopicSwiper .jsWidgetButtonPrev"}});if(s.on("reachEnd",function(){$(".jsHotTopicSwiper").addClass("is-end")}),s.on("fromEdge",function(){$(".jsHotTopicSwiper").removeClass("is-end")}),$(document).on("click",".jsHotTopicSlider",function(){$(".jsHotTopicStories").addClass("is-show"),$(document.body).toggleClass("Ov(h)"),playStory(this)}),$(document).on("click",".jsHotTopicStoriesClose",function(){closeStories()}),$(document).on("click",".jsHotTopicStoriesPrev",function(){goToStories("prev")}),$(document).on("click",".jsHotTopicStoriesNext",function(){goToStories("next")}),$(document).on("click",".jsThreadCardShare",function(){var e=$(".jsThreadCardShare").not(this);$(this);(setTimeout(function(){e.closest(".jsThreadCard").find(".jsShareBar").removeClass("is-visible")},300),e.closest(".jsThreadCard").find(".jsShareBarList").removeClass("is-show"),$(this).closest(".jsThreadCard").find(".jsShareBar").hasClass("is-visible"))?($(this).closest(".jsThreadCard").find(".jsShareBar").removeClass("is-visible"),$(this).closest(".jsThreadCard").find(".jsShareBarList").removeClass("is-show")):($(this).closest(".jsThreadCard").find(".jsShareBar").addClass("is-visible"),$(this).closest(".jsThreadCard").find(".jsShareBarList").addClass("is-show"),createHorizontalShareMenu($(this).closest(".jsThreadCard").find(".jsShareBar")));return!1}),$(document).on("click",".jsThreadCardShareClose",function(e){var t=$(this);return t.closest(".jsShareBar").find(".jsShareBarList").removeClass("is-show"),setTimeout(function(){t.closest(".jsShareBar").removeClass("is-visible")},300),!1}),bindJsTippy(),flatpickr(".jsDatepickerPolling",{minDate:(new Date).fp_incr(1),dateFormat:"d-m-Y",locale:"id"}),$(".jsPilihKategori").select2(),new ClipboardJS(".jsClipboardButton").on("success",function(e){showBottomToast("Link Tersalin","2000")}),hotkeys("shift+x, shift+r, shift+left, shift+right",function(e,t){switch(t.key){case"shift+x":$(".spoiler input[type=button]").click();break;case"shift+r":link=$(".jsButtonPostReply").attr("href"),link&&(window.location=link);break;case"shift+left":link=$(".pagination .jsPrevPage").attr("href"),link&&(window.location=link);break;case"shift+right":link=$(".pagination .jsNextPage").attr("href"),link&&(window.location=link)}}),$(".jsButtonSmilies").click(function(){$(".jsSmiliesContainer").hasClass("is-visible")?($(".jsSmiliesContainer").removeClass("is-visible"),$(this).removeAttr("style")):($(".toggleMenu").removeClass("is-visible"),$(".jsButtonToggle").removeAttr("style"),$(".jsSmiliesContainer").addClass("is-visible"),$(this).css("color","#1998ed"))}),$(".jsButtonMention").click(function(){$(".jsMentionContainer").hasClass("is-visible")?($(".jsMentionContainer").removeClass("is-visible"),$(this).removeAttr("style")):($(".toggleMenu").removeClass("is-visible"),$(".jsButtonToggle").removeAttr("style"),$(".jsMentionContainer").addClass("is-visible"),$(this).css("color","#1998ed"),setTimeout(function(){$(".jsMentionContainer input").focus()},310))}),$(".jsSubscribeThreadIcon").click(function(){return subscribeUnsubscribe($(this)),!1}),$("#jsReplyTextArea").focus(function(){showReplyTools()}),$(document).mousedown(function(e){a=$(e.target)}),$(document).mouseup(function(e){a=null}),$("#jsReplyTextArea").blur(function(e){$(a).closest(".jsReplyTools").length||$(a).closest(".jsButtonReply").length||$("#jsReplyTextArea").length&&0==$("#jsReplyTextArea").val().length&&($(".jsReplyTools").hide(),$(".jsReplyUser").addClass("Pos(a)"),$(".jsReplyUser span").hide(),$("#jsReplyTextArea").addClass("Px(40px)"))}),autosize($("#jsReplyTextArea")),autosize($(".jsNestedReplyTextArea")),bindPopoverMenu(),bindThreadListShareMenuData(),$(".is-remove-all").mousedown(function(e){e.preventDefault()}),$(document).on("click",".jsModalTrigger",function(){$(".jsModal").removeClass("is-open");var e=$(this).attr("data-modal"),t=$("#"+e);t.addClass("is-open"),t.find(".jsModalDialog").addClass("is-animate"),$("body").addClass("Ov(h)")}),$(document).on("click",".jsModalCloseButton",function(){closeModal()}),$(".mls-img").kslzy(300),$("body").on("click",".jsChannelForumButton",function(){$(this).closest(".jsChannelForumItem").hasClass("is-open")?($(this).closest(".jsChannelForumItem").removeClass("is-open"),$(this).find("i").removeClass("fa-minus-circle").addClass("fa-plus-circle"),$(this).closest(".jsChannelForumItem").find(".jsChannelForumList").slideUp()):($(this).closest(".jsChannelForumItem").addClass("is-open"),$(this).find("i").removeClass("fa-plus-circle").addClass("fa-minus-circle"),$(this).closest(".jsChannelForumItem").find(".jsChannelForumList").slideDown())}),$(document).on("click",".jsButtonMultiquote",function(){$(this).toggleClass("is-animate is-selected")}),$(document).on("click",".jsPodcastWidgetButtonExpand",function(){$(this).find("i").toggleClass("fa-chevron-down fa-chevron-up"),$(".jsPodcastWidgetEpisodeList").slideToggle()}),$(".flyout__trigger").length>0&&$(".flyout__trigger").hover(function(){catLoaded||fetchCategories()}),$("body").on("click",".jsFormPasswordToggle",function(){var e=$(this).closest(".jsFormPassword").find(".jsFormPasswordInput"),t=$(this).closest(".jsFormPassword").find("i");if("text"==e.attr("type"))var a=!1;else a=!0;a?(t.removeClass("fa-eye-slash"),t.addClass("fa-eye"),e.attr("type","text")):(t.removeClass("fa-eye"),t.addClass("fa-eye-slash"),e.attr("type","password"))}),$(".jsFirstPostItemTrigger").click(function(){$(".jsFirstPostItemContent").hasClass("is-hide")?($(".jsFirstPostItemContent").removeClass("is-hide"),$(".jsFirstPostItemContent").slideDown(),$(this).find("i").removeClass("fa-angle-down").addClass("fa-angle-up"),$(this).find("span").text("Sembunyikan Isi Thread")):($(".jsFirstPostItemContent").addClass("is-hide"),$(".jsFirstPostItemContent").slideUp(),$(this).find("i").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).find("span").text("Lihat Isi Thread"),$("html, body").animate({scrollTop:$(".jsFirstPostItemContent").offset().top-300},400))}),$("#thread_post_list").on("click",".jsShowNestedTrigger",function(e){var t=$(this).attr("data-replycount");$(this).parent().next().hasClass("is-hide")?($(this).parent().next().removeClass("is-hide"),$(this).parent().next().slideDown(),$(this).find("i").removeClass("fa-angle-down").addClass("fa-angle-up"),$(this).find("span").text("Tutup Balasan")):($(this).parent().next().addClass("is-hide"),$(this).parent().next().slideUp(),$(this).find("i").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).find("span").text("Lihat "+t+" balasan"))}),$(".jsSpoilerTrigger").click(function(e){$(this).closest(".jsSpoiler").toggleClass("is-open"),$(this).find("i").toggleClass("fa-angle-down fa-angle-up"),$(this).closest(".jsSpoiler").hasClass("is-open")?($(this).find("span").text("Hide"),$(this).closest(".jsSpoiler").find(".jsSpoilerContent").first().slideDown()):($(this).find("span").text("Show"),$(this).closest(".jsSpoiler").find(".jsSpoilerContent").first().slideUp())}),$(".jsTabLink").click(function(){var e=$(this).attr("data-tab");$(".jsTabLink, .jsTabContent").removeClass("is-active"),$(this).addClass("is-active"),$("#"+e).addClass("is-active")}),$(".jsSearchFormInput").focus(function(){$(".jsSearchResult").addClass("is-open"),$(".jsNavHeaderOverlay").show(),$(".jsSearchStickyWrapper").css("min-height","500px")}),$(".jsSearchFormInput").blur(function(){$(".jsSearchResult").removeClass("is-open"),$(".jsNavHeaderOverlay").hide(),$(".jsSearchStickyWrapper").css("min-height","30px")}),$(".jsModalCloseButton").click(function(){$(".jsModal").removeClass("is-open"),$("body").removeClass("Ov(h)")}),$(".jsPodcastWidget").length>0){var o=$(".jsPodcastWidget").outerWidth()-45-35-30;$(".jsPodcastWidgetFlex").css("width",o+"px"),$(".jsAudioTitle")[0].scrollWidth>$(".jsAudioContainer").width()&&($(".jsAudioContainer").addClass("is-running"),$(".jsAudioLink").clone().prependTo(".jsAudioTitle"))}function i(){var e=".jsSearchResult .jsSearchWrapper li:eq("+indexSelected+")";if($(e).find("a").hasClass("categorySearch"))var t=$(e).find("span").text();else t=$(e).find("a").text();$("#search").val(t),$(e).addClass("Bgc(c-semiwhite)"),$("#search").attr("value",t),$("#search").blur(),$("#search").focus()}$("#search").keydown(function(e){$(".jsSearchResult").find("li").removeClass("Bgc(c-semiwhite)");var t=$(".jsSearchResult .jsSearchWrapper li").length-1,a="",s=".jsSearchResult .jsSearchWrapper li:eq("+indexSelected+")";if($(s).find("a").hasClass("categorySearch")&&void 0!==$(s).find("a").attr("data-forum-id")&&13==e.which&&(e.preventDefault(),a=$(s).find("span").text(),a+=" fid:"+$(s).find("a").attr("data-forum-id"),window.location.href="/search/forum/?q="+a),38==e.which)return indexSelected>0?indexSelected--:indexSelected=t,i(),!1;40==e.which&&(indexSelected<t?indexSelected++:indexSelected=0,i())}),$(".jsUserAvatar").click(function(){$(".toggleMenu").hasClass("is-visible")?($(".toggleMenu").removeClass("is-visible"),$(".jsNavHeaderOverlay").hide(),$(".jsUserMenu").removeClass("is-active"),$(".jsNotificationMenu").removeClass("is-active")):($(this).next().toggleClass("is-visible"),toggleOverlay(),$(".jsUserMenu").addClass("is-active"))}),$(".jsNotificationIcon").click(function(){$(".toggleMenu").hasClass("is-visible")?($(".toggleMenu").removeClass("is-visible"),$(".jsNavHeaderOverlay").hide(),$(".jsNotificationMenu").removeClass("is-active"),$(".jsUserMenu").removeClass("is-active")):($(this).next().toggleClass("is-visible"),toggleOverlay(),$(".jsNotificationMenu").addClass("is-active"))}),$(document).on("click",function(e){$(e.target).closest(".jsPopover, .jsUserMenu, .jsNotificationMenu, .jsFlyoutMenu, .jsSearchOutterWrapper, .jsSearchStickyBtn,  .jsReplyTools, #jsReplyTextArea, .jsSmilies, .jsMention, .jsSearchAnchorSticky ").length||($(".jsPopoverMenu").removeClass("is-visible"),$(".jsPopoverTrigger").removeClass("C(c-blue").addClass("C(c-primary)"),$(".jsSmiliesContainer").removeClass("is-visible"),$(".jsButtonSmilies").removeAttr("style"),$(".jsMentionContainer").removeClass("is-visible"),$(".jsButtonMention").removeAttr("style"),$(".jsUserDropdownMenu").removeClass("is-visible"),$(".jsUserMenu").removeClass("is-active"),$(".jsNotificationDropdownMenu").removeClass("is-visible"),$(".jsNotificationMenu").removeClass("is-active"),$(".jsSearchSticky").removeClass("is-clicked"),$(".jsSearchTrigger").removeClass("is-clicked"),$(".jsSearchOutterWrapper").hide(),"block"==$(".jsNavHeaderOverlay").css("display")&&$(".jsNavHeaderOverlay").hide())}),stickybits(".jsStickyAnchor",{stickyBitStickyOffset:60}),stickybits(".jsToolbarSCEditorAnchor",{verticalPosition:"bottom",useStickyClasses:!0});var r=$(".jsMenuAccordion");r.children("ul").find("a").click(function(){var e=$(this).next();return e.is("ul")&&e.is(":visible")&&($(this).closest("li").removeClass("is-open"),$(this).find(".jsMenuAccordionIcon").toggleClass("fa-angle-down fa-angle-up"),e.slideUp()),e.is("ul")&&!e.is(":visible")&&(r.children("ul").find("ul:visible").slideUp(),r.find("li").removeClass("is-open"),r.find(".jsMenuAccordionIcon").removeClass("fa-angle-up").addClass("fa-angle-down"),$(this).closest("li").addClass("is-open"),$(this).find(".jsMenuAccordionIcon").toggleClass("fa-angle-down fa-angle-up"),e.slideDown()),0===$(this).closest("li").find("ul").children().length}),forumAllEventTracking(),bindForumAllIconCancel(),bindForumAllSearchResult(),bindForumAllSubscribeEvent(),bindTopKreatorClickFollowBtn(),bindTopKreatorHoverFollowBtn()});